function Gf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Ic={exports:{}},Oi={},zc={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),Qf=Symbol.for("react.portal"),Kf=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),Zf=Symbol.for("react.provider"),ep=Symbol.for("react.context"),tp=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),np=Symbol.for("react.memo"),sp=Symbol.for("react.lazy"),Za=Symbol.iterator;function ip(e){return e===null||typeof e!="object"?null:(e=Za&&e[Za]||e["@@iterator"],typeof e=="function"?e:null)}var Dc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mc=Object.assign,Uc={};function dn(e,t,r){this.props=e,this.context=t,this.refs=Uc,this.updater=r||Dc}dn.prototype.isReactComponent={};dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fc(){}Fc.prototype=dn.prototype;function Gl(e,t,r){this.props=e,this.context=t,this.refs=Uc,this.updater=r||Dc}var Jl=Gl.prototype=new Fc;Jl.constructor=Gl;Mc(Jl,dn.prototype);Jl.isPureReactComponent=!0;var eu=Array.isArray,Bc=Object.prototype.hasOwnProperty,Ql={current:null},Vc={key:!0,ref:!0,__self:!0,__source:!0};function Hc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Bc.call(t,n)&&!Vc.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ms,type:e,key:i,ref:o,props:s,_owner:Ql.current}}function op(e,t){return{$$typeof:ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ms}function lp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tu=/\/+/g;function oo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lp(""+e.key):t.toString(36)}function qs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ms:case Qf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+oo(o,0):n,eu(s)?(r="",e!=null&&(r=e.replace(tu,"$&/")+"/"),qs(s,t,r,"",function(c){return c})):s!=null&&(Kl(s)&&(s=op(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(tu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",eu(e))for(var a=0;a<e.length;a++){i=e[a];var u=n+oo(i,a);o+=qs(i,t,r,u,s)}else if(u=ip(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=n+oo(i,a++),o+=qs(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function js(e,t,r){if(e==null)return e;var n=[],s=0;return qs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function ap(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Gs={transition:null},up={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Gs,ReactCurrentOwner:Ql};function Wc(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:js,forEach:function(e,t,r){js(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return js(e,function(){t++}),t},toArray:function(e){return js(e,function(t){return t})||[]},only:function(e){if(!Kl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Component=dn;I.Fragment=Kf;I.Profiler=Xf;I.PureComponent=Gl;I.StrictMode=Yf;I.Suspense=rp;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=up;I.act=Wc;I.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Mc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ql.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Bc.call(t,u)&&!Vc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ms,type:e.type,key:s,ref:i,props:n,_owner:o}};I.createContext=function(e){return e={$$typeof:ep,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zf,_context:e},e.Consumer=e};I.createElement=Hc;I.createFactory=function(e){var t=Hc.bind(null,e);return t.type=e,t};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:tp,render:e}};I.isValidElement=Kl;I.lazy=function(e){return{$$typeof:sp,_payload:{_status:-1,_result:e},_init:ap}};I.memo=function(e,t){return{$$typeof:np,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=Gs.transition;Gs.transition={};try{e()}finally{Gs.transition=t}};I.unstable_act=Wc;I.useCallback=function(e,t){return be.current.useCallback(e,t)};I.useContext=function(e){return be.current.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e){return be.current.useDeferredValue(e)};I.useEffect=function(e,t){return be.current.useEffect(e,t)};I.useId=function(){return be.current.useId()};I.useImperativeHandle=function(e,t,r){return be.current.useImperativeHandle(e,t,r)};I.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};I.useMemo=function(e,t){return be.current.useMemo(e,t)};I.useReducer=function(e,t,r){return be.current.useReducer(e,t,r)};I.useRef=function(e){return be.current.useRef(e)};I.useState=function(e){return be.current.useState(e)};I.useSyncExternalStore=function(e,t,r){return be.current.useSyncExternalStore(e,t,r)};I.useTransition=function(){return be.current.useTransition()};I.version="18.3.1";zc.exports=I;var j=zc.exports;const Ri=$c(j),cp=Gf({__proto__:null,default:Ri},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp=j,hp=Symbol.for("react.element"),fp=Symbol.for("react.fragment"),pp=Object.prototype.hasOwnProperty,mp=dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gp={key:!0,ref:!0,__self:!0,__source:!0};function qc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)pp.call(t,n)&&!gp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:hp,type:e,key:i,ref:o,props:s,_owner:mp.current}}Oi.Fragment=fp;Oi.jsx=qc;Oi.jsxs=qc;Ic.exports=Oi;var l=Ic.exports,Gc={exports:{}},Ie={},Jc={exports:{}},Qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,R){var L=P.length;P.push(R);e:for(;0<L;){var U=L-1>>>1,ae=P[U];if(0<s(ae,R))P[U]=R,P[L]=ae,L=U;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var R=P[0],L=P.pop();if(L!==R){P[0]=L;e:for(var U=0,ae=P.length,bs=ae>>>1;U<bs;){var nr=2*(U+1)-1,io=P[nr],sr=nr+1,ks=P[sr];if(0>s(io,L))sr<ae&&0>s(ks,io)?(P[U]=ks,P[sr]=L,U=sr):(P[U]=io,P[nr]=L,U=nr);else if(sr<ae&&0>s(ks,L))P[U]=ks,P[sr]=L,U=sr;else break e}}return R}function s(P,R){var L=P.sortIndex-R.sortIndex;return L!==0?L:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,f=3,v=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=P)n(c),R.sortIndex=R.expirationTime,t(u,R);else break;R=r(c)}}function k(P){if(w=!1,g(P),!y)if(r(u)!==null)y=!0,ot(_);else{var R=r(c);R!==null&&Ct(k,R.startTime-P)}}function _(P,R){y=!1,w&&(w=!1,m(N),N=-1),v=!0;var L=f;try{for(g(R),h=r(u);h!==null&&(!(h.expirationTime>R)||P&&!V());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var ae=U(h.expirationTime<=R);R=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===r(u)&&n(u),g(R)}else n(u);h=r(u)}if(h!==null)var bs=!0;else{var nr=r(c);nr!==null&&Ct(k,nr.startTime-R),bs=!1}return bs}finally{h=null,f=L,v=!1}}var x=!1,S=null,N=-1,E=5,O=-1;function V(){return!(e.unstable_now()-O<E)}function D(){if(S!==null){var P=e.unstable_now();O=P;var R=!0;try{R=S(!0,P)}finally{R?Je():(x=!1,S=null)}}else x=!1}var Je;if(typeof p=="function")Je=function(){p(D)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Cr=Qe.port2;Qe.port1.onmessage=D,Je=function(){Cr.postMessage(null)}}else Je=function(){b(D,0)};function ot(P){S=P,x||(x=!0,Je())}function Ct(P,R){N=b(function(){P(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,ot(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var L=f;f=R;try{return P()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=f;f=P;try{return R()}finally{f=L}},e.unstable_scheduleCallback=function(P,R,L){var U=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?U+L:U):L=U,P){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=L+ae,P={id:d++,callback:R,priorityLevel:P,startTime:L,expirationTime:ae,sortIndex:-1},L>U?(P.sortIndex=L,t(c,P),r(u)===null&&P===r(c)&&(w?(m(N),N=-1):w=!0,Ct(k,L-U))):(P.sortIndex=ae,t(u,P),y||v||(y=!0,ot(_))),P},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(P){var R=f;return function(){var L=f;f=R;try{return P.apply(this,arguments)}finally{f=L}}}})(Qc);Jc.exports=Qc;var vp=Jc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=j,$e=vp;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kc=new Set,Gn={};function _r(e,t){Zr(e,t),Zr(e+"Capture",t)}function Zr(e,t){for(Gn[e]=t,e=0;e<t.length;e++)Kc.add(t[e])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vo=Object.prototype.hasOwnProperty,xp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ru={},nu={};function wp(e){return Vo.call(nu,e)?!0:Vo.call(ru,e)?!1:xp.test(e)?nu[e]=!0:(ru[e]=!0,!1)}function _p(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bp(e,t,r,n){if(t===null||typeof t>"u"||_p(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yl=/[\-:]([a-z])/g;function Xl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yl,Xl);pe[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yl,Xl);pe[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yl,Xl);pe[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zl(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bp(t,r,s,n)&&(r=null),n||s===null?wp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var St=yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),ea=Symbol.for("react.strict_mode"),Ho=Symbol.for("react.profiler"),Yc=Symbol.for("react.provider"),Xc=Symbol.for("react.context"),ta=Symbol.for("react.forward_ref"),Wo=Symbol.for("react.suspense"),qo=Symbol.for("react.suspense_list"),ra=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Zc=Symbol.for("react.offscreen"),su=Symbol.iterator;function xn(e){return e===null||typeof e!="object"?null:(e=su&&e[su]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,lo;function Tn(e){if(lo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);lo=t&&t[1]||""}return`
`+lo+e}var ao=!1;function uo(e,t){if(!e||ao)return"";ao=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{ao=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tn(e):""}function kp(e){switch(e.tag){case 5:return Tn(e.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 2:case 15:return e=uo(e.type,!1),e;case 11:return e=uo(e.type.render,!1),e;case 1:return e=uo(e.type,!0),e;default:return""}}function Go(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Lr:return"Portal";case Ho:return"Profiler";case ea:return"StrictMode";case Wo:return"Suspense";case qo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xc:return(e.displayName||"Context")+".Consumer";case Yc:return(e._context.displayName||"Context")+".Provider";case ta:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ra:return t=e.displayName||null,t!==null?t:Go(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Go(e(t))}catch{}}return null}function jp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Go(t);case 8:return t===ea?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ed(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sp(e){var t=ed(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){e._valueTracker||(e._valueTracker=Sp(e))}function td(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ed(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jo(e,t){var r=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function iu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rd(e,t){t=t.checked,t!=null&&Zl(e,"checked",t,!1)}function Qo(e,t){rd(e,t);var r=Yt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ko(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ko(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ou(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ko(e,t,r){(t!=="number"||si(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var On=Array.isArray;function Wr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(On(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yt(r)}}function nd(e,t){var r=Yt(t.value),n=Yt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function au(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,id=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cp=["Webkit","ms","Moz","O"];Object.keys($n).forEach(function(e){Cp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$n[t]=$n[e]})});function od(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$n.hasOwnProperty(e)&&$n[e]?(""+t).trim():t+"px"}function ld(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=od(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Ep=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(e,t){if(t){if(Ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function el(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=null;function na(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,qr=null,Gr=null;function uu(e){if(e=ys(e)){if(typeof rl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=zi(t),rl(e.stateNode,e.type,t))}}function ad(e){qr?Gr?Gr.push(e):Gr=[e]:qr=e}function ud(){if(qr){var e=qr,t=Gr;if(Gr=qr=null,uu(e),t)for(e=0;e<t.length;e++)uu(t[e])}}function cd(e,t){return e(t)}function dd(){}var co=!1;function hd(e,t,r){if(co)return e(t,r);co=!0;try{return cd(e,t,r)}finally{co=!1,(qr!==null||Gr!==null)&&(dd(),ud())}}function Qn(e,t){var r=e.stateNode;if(r===null)return null;var n=zi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var nl=!1;if(_t)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){nl=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{nl=!1}function Np(e,t,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var In=!1,ii=null,oi=!1,sl=null,Pp={onError:function(e){In=!0,ii=e}};function Tp(e,t,r,n,s,i,o,a,u){In=!1,ii=null,Np.apply(Pp,arguments)}function Op(e,t,r,n,s,i,o,a,u){if(Tp.apply(this,arguments),In){if(In){var c=ii;In=!1,ii=null}else throw Error(C(198));oi||(oi=!0,sl=c)}}function br(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cu(e){if(br(e)!==e)throw Error(C(188))}function Rp(e){var t=e.alternate;if(!t){if(t=br(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return cu(s),e;if(i===n)return cu(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function pd(e){return e=Rp(e),e!==null?md(e):null}function md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=md(e);if(t!==null)return t;e=e.sibling}return null}var gd=$e.unstable_scheduleCallback,du=$e.unstable_cancelCallback,Lp=$e.unstable_shouldYield,Ap=$e.unstable_requestPaint,re=$e.unstable_now,$p=$e.unstable_getCurrentPriorityLevel,sa=$e.unstable_ImmediatePriority,vd=$e.unstable_UserBlockingPriority,li=$e.unstable_NormalPriority,Ip=$e.unstable_LowPriority,yd=$e.unstable_IdlePriority,Li=null,dt=null;function zp(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Li,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Up,Dp=Math.log,Mp=Math.LN2;function Up(e){return e>>>=0,e===0?32:31-(Dp(e)/Mp|0)|0}var Ns=64,Ps=4194304;function Rn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ai(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Rn(a):(i&=o,i!==0&&(n=Rn(i)))}else o=r&~s,o!==0?n=Rn(o):i!==0&&(n=Rn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tt(t),s=1<<r,n|=e[r],t&=~s;return n}function Fp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-tt(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=Fp(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xd(){var e=Ns;return Ns<<=1,!(Ns&4194240)&&(Ns=64),e}function ho(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=r}function Vp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-tt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ia(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var F=0;function wd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _d,oa,bd,kd,jd,ol=!1,Ts=[],Ft=null,Bt=null,Vt=null,Kn=new Map,Yn=new Map,$t=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Kn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function _n(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ys(t),t!==null&&oa(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Wp(e,t,r,n,s){switch(t){case"focusin":return Ft=_n(Ft,e,t,r,n,s),!0;case"dragenter":return Bt=_n(Bt,e,t,r,n,s),!0;case"mouseover":return Vt=_n(Vt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Kn.set(i,_n(Kn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Yn.set(i,_n(Yn.get(i)||null,e,t,r,n,s)),!0}return!1}function Sd(e){var t=cr(e.target);if(t!==null){var r=br(t);if(r!==null){if(t=r.tag,t===13){if(t=fd(r),t!==null){e.blockedOn=t,jd(e.priority,function(){bd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tl=n,r.target.dispatchEvent(n),tl=null}else return t=ys(r),t!==null&&oa(t),e.blockedOn=r,!1;t.shift()}return!0}function fu(e,t,r){Js(e)&&r.delete(t)}function qp(){ol=!1,Ft!==null&&Js(Ft)&&(Ft=null),Bt!==null&&Js(Bt)&&(Bt=null),Vt!==null&&Js(Vt)&&(Vt=null),Kn.forEach(fu),Yn.forEach(fu)}function bn(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,qp)))}function Xn(e){function t(s){return bn(s,e)}if(0<Ts.length){bn(Ts[0],e);for(var r=1;r<Ts.length;r++){var n=Ts[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ft!==null&&bn(Ft,e),Bt!==null&&bn(Bt,e),Vt!==null&&bn(Vt,e),Kn.forEach(t),Yn.forEach(t),r=0;r<$t.length;r++)n=$t[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$t.length&&(r=$t[0],r.blockedOn===null);)Sd(r),r.blockedOn===null&&$t.shift()}var Jr=St.ReactCurrentBatchConfig,ui=!0;function Gp(e,t,r,n){var s=F,i=Jr.transition;Jr.transition=null;try{F=1,la(e,t,r,n)}finally{F=s,Jr.transition=i}}function Jp(e,t,r,n){var s=F,i=Jr.transition;Jr.transition=null;try{F=4,la(e,t,r,n)}finally{F=s,Jr.transition=i}}function la(e,t,r,n){if(ui){var s=ll(e,t,r,n);if(s===null)bo(e,t,n,ci,r),hu(e,n);else if(Wp(s,e,t,r,n))n.stopPropagation();else if(hu(e,n),t&4&&-1<Hp.indexOf(e)){for(;s!==null;){var i=ys(s);if(i!==null&&_d(i),i=ll(e,t,r,n),i===null&&bo(e,t,n,ci,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else bo(e,t,n,null,r)}}var ci=null;function ll(e,t,r,n){if(ci=null,e=na(n),e=cr(e),e!==null)if(t=br(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ci=e,null}function Cd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($p()){case sa:return 1;case vd:return 4;case li:case Ip:return 16;case yd:return 536870912;default:return 16}default:return 16}}var Dt=null,aa=null,Qs=null;function Ed(){if(Qs)return Qs;var e,t=aa,r=t.length,n,s="value"in Dt?Dt.value:Dt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Qs=s.slice(e,1<n?1-n:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Os(){return!0}function pu(){return!1}function ze(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Os:pu,this.isPropagationStopped=pu,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=ze(hn),vs=Z({},hn,{view:0,detail:0}),Qp=ze(vs),fo,po,kn,Ai=Z({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kn&&(kn&&e.type==="mousemove"?(fo=e.screenX-kn.screenX,po=e.screenY-kn.screenY):po=fo=0,kn=e),fo)},movementY:function(e){return"movementY"in e?e.movementY:po}}),mu=ze(Ai),Kp=Z({},Ai,{dataTransfer:0}),Yp=ze(Kp),Xp=Z({},vs,{relatedTarget:0}),mo=ze(Xp),Zp=Z({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),em=ze(Zp),tm=Z({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rm=ze(tm),nm=Z({},hn,{data:0}),gu=ze(nm),sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=om[e])?!!t[e]:!1}function ca(){return lm}var am=Z({},vs,{key:function(e){if(e.key){var t=sm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?im[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),um=ze(am),cm=Z({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=ze(cm),dm=Z({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),hm=ze(dm),fm=Z({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),pm=ze(fm),mm=Z({},Ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gm=ze(mm),vm=[9,13,27,32],da=_t&&"CompositionEvent"in window,zn=null;_t&&"documentMode"in document&&(zn=document.documentMode);var ym=_t&&"TextEvent"in window&&!zn,Nd=_t&&(!da||zn&&8<zn&&11>=zn),yu=" ",xu=!1;function Pd(e,t){switch(e){case"keyup":return vm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function xm(e,t){switch(e){case"compositionend":return Td(t);case"keypress":return t.which!==32?null:(xu=!0,yu);case"textInput":return e=t.data,e===yu&&xu?null:e;default:return null}}function wm(e,t){if($r)return e==="compositionend"||!da&&Pd(e,t)?(e=Ed(),Qs=aa=Dt=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nd&&t.locale!=="ko"?null:t.data;default:return null}}var _m={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_m[e.type]:t==="textarea"}function Od(e,t,r,n){ad(n),t=di(t,"onChange"),0<t.length&&(r=new ua("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dn=null,Zn=null;function bm(e){Bd(e,0)}function $i(e){var t=Dr(e);if(td(t))return e}function km(e,t){if(e==="change")return t}var Rd=!1;if(_t){var go;if(_t){var vo="oninput"in document;if(!vo){var _u=document.createElement("div");_u.setAttribute("oninput","return;"),vo=typeof _u.oninput=="function"}go=vo}else go=!1;Rd=go&&(!document.documentMode||9<document.documentMode)}function bu(){Dn&&(Dn.detachEvent("onpropertychange",Ld),Zn=Dn=null)}function Ld(e){if(e.propertyName==="value"&&$i(Zn)){var t=[];Od(t,Zn,e,na(e)),hd(bm,t)}}function jm(e,t,r){e==="focusin"?(bu(),Dn=t,Zn=r,Dn.attachEvent("onpropertychange",Ld)):e==="focusout"&&bu()}function Sm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(Zn)}function Cm(e,t){if(e==="click")return $i(t)}function Em(e,t){if(e==="input"||e==="change")return $i(t)}function Nm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:Nm;function es(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vo.call(t,s)||!st(e[s],t[s]))return!1}return!0}function ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ju(e,t){var r=ku(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ku(r)}}function Ad(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ad(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $d(){for(var e=window,t=si();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=si(e.document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pm(e){var t=$d(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ad(r.ownerDocument.documentElement,r)){if(n!==null&&ha(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ju(r,i);var o=ju(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tm=_t&&"documentMode"in document&&11>=document.documentMode,Ir=null,al=null,Mn=null,ul=!1;function Su(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ul||Ir==null||Ir!==si(n)||(n=Ir,"selectionStart"in n&&ha(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mn&&es(Mn,n)||(Mn=n,n=di(al,"onSelect"),0<n.length&&(t=new ua("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ir)))}function Rs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},yo={},Id={};_t&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Ii(e){if(yo[e])return yo[e];if(!zr[e])return e;var t=zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Id)return yo[e]=t[r];return e}var zd=Ii("animationend"),Dd=Ii("animationiteration"),Md=Ii("animationstart"),Ud=Ii("transitionend"),Fd=new Map,Cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){Fd.set(e,t),_r(t,[e])}for(var xo=0;xo<Cu.length;xo++){var wo=Cu[xo],Om=wo.toLowerCase(),Rm=wo[0].toUpperCase()+wo.slice(1);Zt(Om,"on"+Rm)}Zt(zd,"onAnimationEnd");Zt(Dd,"onAnimationIteration");Zt(Md,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Ud,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function Eu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Op(n,t,void 0,e),e.currentTarget=null}function Bd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Eu(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Eu(s,a,c),i=u}}}if(oi)throw e=sl,oi=!1,sl=null,e}function G(e,t){var r=t[pl];r===void 0&&(r=t[pl]=new Set);var n=e+"__bubble";r.has(n)||(Vd(t,e,2,!1),r.add(n))}function _o(e,t,r){var n=0;t&&(n|=4),Vd(r,e,n,t)}var Ls="_reactListening"+Math.random().toString(36).slice(2);function ts(e){if(!e[Ls]){e[Ls]=!0,Kc.forEach(function(r){r!=="selectionchange"&&(Lm.has(r)||_o(r,!1,e),_o(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ls]||(t[Ls]=!0,_o("selectionchange",!1,t))}}function Vd(e,t,r,n){switch(Cd(t)){case 1:var s=Gp;break;case 4:s=Jp;break;default:s=la}r=s.bind(null,t,r,e),s=void 0,!nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function bo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=cr(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}hd(function(){var c=i,d=na(r),h=[];e:{var f=Fd.get(e);if(f!==void 0){var v=ua,y=e;switch(e){case"keypress":if(Ks(r)===0)break e;case"keydown":case"keyup":v=um;break;case"focusin":y="focus",v=mo;break;case"focusout":y="blur",v=mo;break;case"beforeblur":case"afterblur":v=mo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=hm;break;case zd:case Dd:case Md:v=em;break;case Ud:v=pm;break;case"scroll":v=Qp;break;case"wheel":v=gm;break;case"copy":case"cut":case"paste":v=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=vu}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=c,g;p!==null;){g=p;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=Qn(p,m),k!=null&&w.push(rs(p,k,g)))),b)break;p=p.return}0<w.length&&(f=new v(f,y,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==tl&&(y=r.relatedTarget||r.fromElement)&&(cr(y)||y[bt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?cr(y):null,y!==null&&(b=br(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=mu,k="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=vu,k="onPointerLeave",m="onPointerEnter",p="pointer"),b=v==null?f:Dr(v),g=y==null?f:Dr(y),f=new w(k,p+"leave",v,r,d),f.target=b,f.relatedTarget=g,k=null,cr(d)===c&&(w=new w(m,p+"enter",y,r,d),w.target=g,w.relatedTarget=b,k=w),b=k,v&&y)t:{for(w=v,m=y,p=0,g=w;g;g=Er(g))p++;for(g=0,k=m;k;k=Er(k))g++;for(;0<p-g;)w=Er(w),p--;for(;0<g-p;)m=Er(m),g--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=Er(w),m=Er(m)}w=null}else w=null;v!==null&&Nu(h,f,v,w,!1),y!==null&&b!==null&&Nu(h,b,y,w,!0)}}e:{if(f=c?Dr(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var _=km;else if(wu(f))if(Rd)_=Em;else{_=Sm;var x=jm}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Cm);if(_&&(_=_(e,c))){Od(h,_,r,d);break e}x&&x(e,f,c),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&Ko(f,"number",f.value)}switch(x=c?Dr(c):window,e){case"focusin":(wu(x)||x.contentEditable==="true")&&(Ir=x,al=c,Mn=null);break;case"focusout":Mn=al=Ir=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,Su(h,r,d);break;case"selectionchange":if(Tm)break;case"keydown":case"keyup":Su(h,r,d)}var S;if(da)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else $r?Pd(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Nd&&r.locale!=="ko"&&($r||N!=="onCompositionStart"?N==="onCompositionEnd"&&$r&&(S=Ed()):(Dt=d,aa="value"in Dt?Dt.value:Dt.textContent,$r=!0)),x=di(c,N),0<x.length&&(N=new gu(N,e,null,r,d),h.push({event:N,listeners:x}),S?N.data=S:(S=Td(r),S!==null&&(N.data=S)))),(S=ym?xm(e,r):wm(e,r))&&(c=di(c,"onBeforeInput"),0<c.length&&(d=new gu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=S))}Bd(h,t)})}function rs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function di(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qn(e,r),i!=null&&n.unshift(rs(e,i,s)),i=Qn(e,t),i!=null&&n.push(rs(e,i,s))),e=e.return}return n}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=Qn(r,i),u!=null&&o.unshift(rs(r,u,a))):s||(u=Qn(r,i),u!=null&&o.push(rs(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Am=/\r\n?/g,$m=/\u0000|\uFFFD/g;function Pu(e){return(typeof e=="string"?e:""+e).replace(Am,`
`).replace($m,"")}function As(e,t,r){if(t=Pu(t),Pu(e)!==t&&r)throw Error(C(425))}function hi(){}var cl=null,dl=null;function hl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fl=typeof setTimeout=="function"?setTimeout:void 0,Im=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,zm=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(e){return Tu.resolve(null).then(e).catch(Dm)}:fl;function Dm(e){setTimeout(function(){throw e})}function ko(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Xn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Xn(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ou(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fn=Math.random().toString(36).slice(2),ct="__reactFiber$"+fn,ns="__reactProps$"+fn,bt="__reactContainer$"+fn,pl="__reactEvents$"+fn,Mm="__reactListeners$"+fn,Um="__reactHandles$"+fn;function cr(e){var t=e[ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bt]||r[ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ou(e);e!==null;){if(r=e[ct])return r;e=Ou(e)}return t}e=r,r=e.parentNode}return null}function ys(e){return e=e[ct]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function zi(e){return e[ns]||null}var ml=[],Mr=-1;function er(e){return{current:e}}function Q(e){0>Mr||(e.current=ml[Mr],ml[Mr]=null,Mr--)}function W(e,t){Mr++,ml[Mr]=e.current,e.current=t}var Xt={},xe=er(Xt),Ne=er(!1),mr=Xt;function en(e,t){var r=e.type.contextTypes;if(!r)return Xt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function fi(){Q(Ne),Q(xe)}function Ru(e,t,r){if(xe.current!==Xt)throw Error(C(168));W(xe,t),W(Ne,r)}function Hd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,jp(e)||"Unknown",s));return Z({},r,n)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,mr=xe.current,W(xe,e),W(Ne,Ne.current),!0}function Lu(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=Hd(e,t,mr),n.__reactInternalMemoizedMergedChildContext=e,Q(Ne),Q(xe),W(xe,e)):Q(Ne),W(Ne,r)}var vt=null,Di=!1,jo=!1;function Wd(e){vt===null?vt=[e]:vt.push(e)}function Fm(e){Di=!0,Wd(e)}function tr(){if(!jo&&vt!==null){jo=!0;var e=0,t=F;try{var r=vt;for(F=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vt=null,Di=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),gd(sa,tr),s}finally{F=t,jo=!1}}return null}var Ur=[],Fr=0,mi=null,gi=0,Me=[],Ue=0,gr=null,yt=1,xt="";function or(e,t){Ur[Fr++]=gi,Ur[Fr++]=mi,mi=e,gi=t}function qd(e,t,r){Me[Ue++]=yt,Me[Ue++]=xt,Me[Ue++]=gr,gr=e;var n=yt;e=xt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var i=32-tt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yt=1<<32-tt(t)+s|r<<s|n,xt=i+e}else yt=1<<i|r<<s|n,xt=e}function fa(e){e.return!==null&&(or(e,1),qd(e,1,0))}function pa(e){for(;e===mi;)mi=Ur[--Fr],Ur[Fr]=null,gi=Ur[--Fr],Ur[Fr]=null;for(;e===gr;)gr=Me[--Ue],Me[Ue]=null,xt=Me[--Ue],Me[Ue]=null,yt=Me[--Ue],Me[Ue]=null}var Ae=null,Le=null,K=!1,et=null;function Gd(e,t){var r=Fe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Au(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ae=e,Le=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ae=e,Le=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gr!==null?{id:yt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ae=e,Le=null,!0):!1;default:return!1}}function gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vl(e){if(K){var t=Le;if(t){var r=t;if(!Au(e,t)){if(gl(e))throw Error(C(418));t=Ht(r.nextSibling);var n=Ae;t&&Au(e,t)?Gd(n,r):(e.flags=e.flags&-4097|2,K=!1,Ae=e)}}else{if(gl(e))throw Error(C(418));e.flags=e.flags&-4097|2,K=!1,Ae=e}}}function $u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ae=e}function $s(e){if(e!==Ae)return!1;if(!K)return $u(e),K=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hl(e.type,e.memoizedProps)),t&&(t=Le)){if(gl(e))throw Jd(),Error(C(418));for(;t;)Gd(e,t),t=Ht(t.nextSibling)}if($u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Le=Ht(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Le=null}}else Le=Ae?Ht(e.stateNode.nextSibling):null;return!0}function Jd(){for(var e=Le;e;)e=Ht(e.nextSibling)}function tn(){Le=Ae=null,K=!1}function ma(e){et===null?et=[e]:et.push(e)}var Bm=St.ReactCurrentBatchConfig;function jn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Is(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iu(e){var t=e._init;return t(e._payload)}function Qd(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Jt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,k){return p===null||p.tag!==6?(p=Oo(g,m.mode,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function u(m,p,g,k){var _=g.type;return _===Ar?d(m,p,g.props.children,k,g.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&Iu(_)===p.type)?(k=s(p,g.props),k.ref=jn(m,p,g),k.return=m,k):(k=ni(g.type,g.key,g.props,null,m.mode,k),k.ref=jn(m,p,g),k.return=m,k)}function c(m,p,g,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ro(g,m.mode,k),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,k,_){return p===null||p.tag!==7?(p=pr(g,m.mode,k,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Oo(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ss:return g=ni(p.type,p.key,p.props,null,m.mode,g),g.ref=jn(m,null,p),g.return=m,g;case Lr:return p=Ro(p,m.mode,g),p.return=m,p;case Rt:var k=p._init;return h(m,k(p._payload),g)}if(On(p)||xn(p))return p=pr(p,m.mode,g,null),p.return=m,p;Is(m,p)}return null}function f(m,p,g,k){var _=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:a(m,p,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ss:return g.key===_?u(m,p,g,k):null;case Lr:return g.key===_?c(m,p,g,k):null;case Rt:return _=g._init,f(m,p,_(g._payload),k)}if(On(g)||xn(g))return _!==null?null:d(m,p,g,k,null);Is(m,g)}return null}function v(m,p,g,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,a(p,m,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ss:return m=m.get(k.key===null?g:k.key)||null,u(p,m,k,_);case Lr:return m=m.get(k.key===null?g:k.key)||null,c(p,m,k,_);case Rt:var x=k._init;return v(m,p,g,x(k._payload),_)}if(On(k)||xn(k))return m=m.get(g)||null,d(p,m,k,_,null);Is(p,k)}return null}function y(m,p,g,k){for(var _=null,x=null,S=p,N=p=0,E=null;S!==null&&N<g.length;N++){S.index>N?(E=S,S=null):E=S.sibling;var O=f(m,S,g[N],k);if(O===null){S===null&&(S=E);break}e&&S&&O.alternate===null&&t(m,S),p=i(O,p,N),x===null?_=O:x.sibling=O,x=O,S=E}if(N===g.length)return r(m,S),K&&or(m,N),_;if(S===null){for(;N<g.length;N++)S=h(m,g[N],k),S!==null&&(p=i(S,p,N),x===null?_=S:x.sibling=S,x=S);return K&&or(m,N),_}for(S=n(m,S);N<g.length;N++)E=v(S,m,N,g[N],k),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?N:E.key),p=i(E,p,N),x===null?_=E:x.sibling=E,x=E);return e&&S.forEach(function(V){return t(m,V)}),K&&or(m,N),_}function w(m,p,g,k){var _=xn(g);if(typeof _!="function")throw Error(C(150));if(g=_.call(g),g==null)throw Error(C(151));for(var x=_=null,S=p,N=p=0,E=null,O=g.next();S!==null&&!O.done;N++,O=g.next()){S.index>N?(E=S,S=null):E=S.sibling;var V=f(m,S,O.value,k);if(V===null){S===null&&(S=E);break}e&&S&&V.alternate===null&&t(m,S),p=i(V,p,N),x===null?_=V:x.sibling=V,x=V,S=E}if(O.done)return r(m,S),K&&or(m,N),_;if(S===null){for(;!O.done;N++,O=g.next())O=h(m,O.value,k),O!==null&&(p=i(O,p,N),x===null?_=O:x.sibling=O,x=O);return K&&or(m,N),_}for(S=n(m,S);!O.done;N++,O=g.next())O=v(S,m,N,O.value,k),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?N:O.key),p=i(O,p,N),x===null?_=O:x.sibling=O,x=O);return e&&S.forEach(function(D){return t(m,D)}),K&&or(m,N),_}function b(m,p,g,k){if(typeof g=="object"&&g!==null&&g.type===Ar&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ss:e:{for(var _=g.key,x=p;x!==null;){if(x.key===_){if(_=g.type,_===Ar){if(x.tag===7){r(m,x.sibling),p=s(x,g.props.children),p.return=m,m=p;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&Iu(_)===x.type){r(m,x.sibling),p=s(x,g.props),p.ref=jn(m,x,g),p.return=m,m=p;break e}r(m,x);break}else t(m,x);x=x.sibling}g.type===Ar?(p=pr(g.props.children,m.mode,k,g.key),p.return=m,m=p):(k=ni(g.type,g.key,g.props,null,m.mode,k),k.ref=jn(m,p,g),k.return=m,m=k)}return o(m);case Lr:e:{for(x=g.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=Ro(g,m.mode,k),p.return=m,m=p}return o(m);case Rt:return x=g._init,b(m,p,x(g._payload),k)}if(On(g))return y(m,p,g,k);if(xn(g))return w(m,p,g,k);Is(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=Oo(g,m.mode,k),p.return=m,m=p),o(m)):r(m,p)}return b}var rn=Qd(!0),Kd=Qd(!1),vi=er(null),yi=null,Br=null,ga=null;function va(){ga=Br=yi=null}function ya(e){var t=vi.current;Q(vi),e._currentValue=t}function yl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qr(e,t){yi=e,ga=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(ga!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(yi===null)throw Error(C(308));Br=e,yi.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var dr=null;function xa(e){dr===null?dr=[e]:dr.push(e)}function Yd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,xa(t)):(r.next=s.next,s.next=r),t.interleaved=r,kt(e,n)}function kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lt=!1;function wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,M&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,kt(e,r)}return s=n.interleaved,s===null?(t.next=t,xa(n)):(t.next=s.next,s.next=t),n.interleaved=t,kt(e,r)}function Ys(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ia(e,r)}}function zu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xi(e,t,r,n){var s=e.updateQueue;Lt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var f=a.lane,v=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,w=a;switch(f=t,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=Z({},h,f);break e;case 2:Lt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yr|=o,e.lanes=o,e.memoizedState=h}}function Du(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var xs={},ht=er(xs),ss=er(xs),is=er(xs);function hr(e){if(e===xs)throw Error(C(174));return e}function _a(e,t){switch(W(is,t),W(ss,e),W(ht,xs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xo(t,e)}Q(ht),W(ht,t)}function nn(){Q(ht),Q(ss),Q(is)}function Zd(e){hr(is.current);var t=hr(ht.current),r=Xo(t,e.type);t!==r&&(W(ss,e),W(ht,r))}function ba(e){ss.current===e&&(Q(ht),Q(ss))}var Y=er(0);function wi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var So=[];function ka(){for(var e=0;e<So.length;e++)So[e]._workInProgressVersionPrimary=null;So.length=0}var Xs=St.ReactCurrentDispatcher,Co=St.ReactCurrentBatchConfig,vr=0,X=null,oe=null,ce=null,_i=!1,Un=!1,os=0,Vm=0;function ge(){throw Error(C(321))}function ja(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!st(e[r],t[r]))return!1;return!0}function Sa(e,t,r,n,s,i){if(vr=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xs.current=e===null||e.memoizedState===null?Gm:Jm,e=r(n,s),Un){i=0;do{if(Un=!1,os=0,25<=i)throw Error(C(301));i+=1,ce=oe=null,t.updateQueue=null,Xs.current=Qm,e=r(n,s)}while(Un)}if(Xs.current=bi,t=oe!==null&&oe.next!==null,vr=0,ce=oe=X=null,_i=!1,t)throw Error(C(300));return e}function Ca(){var e=os!==0;return os=0,e}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?X.memoizedState=ce=e:ce=ce.next=e,ce}function qe(){if(oe===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ce===null?X.memoizedState:ce.next;if(t!==null)ce=t,oe=e;else{if(e===null)throw Error(C(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ce===null?X.memoizedState=ce=e:ce=ce.next=e}return ce}function ls(e,t){return typeof t=="function"?t(e):t}function Eo(e){var t=qe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=oe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((vr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,X.lanes|=d,yr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,st(n,t.memoizedState)||(Ee=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,X.lanes|=i,yr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function No(e){var t=qe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);st(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function eh(){}function th(e,t){var r=X,n=qe(),s=t(),i=!st(n.memoizedState,s);if(i&&(n.memoizedState=s,Ee=!0),n=n.queue,Ea(sh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ce!==null&&ce.memoizedState.tag&1){if(r.flags|=2048,as(9,nh.bind(null,r,n,s,t),void 0,null),de===null)throw Error(C(349));vr&30||rh(r,t,s)}return s}function rh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function nh(e,t,r,n){t.value=r,t.getSnapshot=n,ih(t)&&oh(e)}function sh(e,t,r){return r(function(){ih(t)&&oh(e)})}function ih(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!st(e,r)}catch{return!0}}function oh(e){var t=kt(e,1);t!==null&&rt(t,e,1,-1)}function Mu(e){var t=ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e},t.queue=e,e=e.dispatch=qm.bind(null,X,e),[t.memoizedState,e]}function as(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lh(){return qe().memoizedState}function Zs(e,t,r,n){var s=ut();X.flags|=e,s.memoizedState=as(1|t,r,void 0,n===void 0?null:n)}function Mi(e,t,r,n){var s=qe();n=n===void 0?null:n;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,n!==null&&ja(n,o.deps)){s.memoizedState=as(t,r,i,n);return}}X.flags|=e,s.memoizedState=as(1|t,r,i,n)}function Uu(e,t){return Zs(8390656,8,e,t)}function Ea(e,t){return Mi(2048,8,e,t)}function ah(e,t){return Mi(4,2,e,t)}function uh(e,t){return Mi(4,4,e,t)}function ch(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dh(e,t,r){return r=r!=null?r.concat([e]):null,Mi(4,4,ch.bind(null,t,e),r)}function Na(){}function hh(e,t){var r=qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ja(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fh(e,t){var r=qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ja(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ph(e,t,r){return vr&21?(st(r,t)||(r=xd(),X.lanes|=r,yr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=r)}function Hm(e,t){var r=F;F=r!==0&&4>r?r:4,e(!0);var n=Co.transition;Co.transition={};try{e(!1),t()}finally{F=r,Co.transition=n}}function mh(){return qe().memoizedState}function Wm(e,t,r){var n=Gt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gh(e))vh(t,r);else if(r=Yd(e,t,r,n),r!==null){var s=_e();rt(r,e,n,s),yh(r,t,n)}}function qm(e,t,r){var n=Gt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gh(e))vh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,st(a,o)){var u=t.interleaved;u===null?(s.next=s,xa(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Yd(e,t,s,n),r!==null&&(s=_e(),rt(r,e,n,s),yh(r,t,n))}}function gh(e){var t=e.alternate;return e===X||t!==null&&t===X}function vh(e,t){Un=_i=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ia(e,r)}}var bi={readContext:We,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Gm={readContext:We,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:Uu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zs(4194308,4,ch.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zs(4,2,e,t)},useMemo:function(e,t){var r=ut();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ut();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Wm.bind(null,X,e),[n.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:Mu,useDebugValue:Na,useDeferredValue:function(e){return ut().memoizedState=e},useTransition:function(){var e=Mu(!1),t=e[0];return e=Hm.bind(null,e[1]),ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=X,s=ut();if(K){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),de===null)throw Error(C(349));vr&30||rh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Uu(sh.bind(null,n,i,e),[e]),n.flags|=2048,as(9,nh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ut(),t=de.identifierPrefix;if(K){var r=xt,n=yt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=os++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jm={readContext:We,useCallback:hh,useContext:We,useEffect:Ea,useImperativeHandle:dh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:fh,useReducer:Eo,useRef:lh,useState:function(){return Eo(ls)},useDebugValue:Na,useDeferredValue:function(e){var t=qe();return ph(t,oe.memoizedState,e)},useTransition:function(){var e=Eo(ls)[0],t=qe().memoizedState;return[e,t]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1},Qm={readContext:We,useCallback:hh,useContext:We,useEffect:Ea,useImperativeHandle:dh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:fh,useReducer:No,useRef:lh,useState:function(){return No(ls)},useDebugValue:Na,useDeferredValue:function(e){var t=qe();return oe===null?t.memoizedState=e:ph(t,oe.memoizedState,e)},useTransition:function(){var e=No(ls)[0],t=qe().memoizedState;return[e,t]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Z({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ui={isMounted:function(e){return(e=e._reactInternals)?br(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Gt(e),i=wt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Wt(e,i,s),t!==null&&(rt(t,e,s,n),Ys(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Gt(e),i=wt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wt(e,i,s),t!==null&&(rt(t,e,s,n),Ys(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_e(),n=Gt(e),s=wt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Wt(e,s,n),t!==null&&(rt(t,e,n,r),Ys(t,e,n))}};function Fu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!es(r,n)||!es(s,i):!0}function xh(e,t,r){var n=!1,s=Xt,i=t.contextType;return typeof i=="object"&&i!==null?i=We(i):(s=Pe(t)?mr:xe.current,n=t.contextTypes,i=(n=n!=null)?en(e,s):Xt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function wl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},wa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=We(i):(i=Pe(t)?mr:xe.current,s.context=en(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ui.enqueueReplaceState(s,s.state,null),xi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function sn(e,t){try{var r="",n=t;do r+=kp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Po(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _l(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Km=typeof WeakMap=="function"?WeakMap:Map;function wh(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ji||(ji=!0,Ol=n),_l(e,t)},r}function _h(e,t,r){r=wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){_l(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){_l(e,t),typeof n!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Vu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Km;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=cg.bind(null,e,t,r),t.then(e,e))}function Hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Wt(r,t,1))),r.lanes|=1),e)}var Ym=St.ReactCurrentOwner,Ee=!1;function we(e,t,r,n){t.child=e===null?Kd(t,null,r,n):rn(t,e.child,r,n)}function qu(e,t,r,n,s){r=r.render;var i=t.ref;return Qr(t,s),n=Sa(e,t,r,n,i,s),r=Ca(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(K&&r&&fa(t),t.flags|=1,we(e,t,n,s),t.child)}function Gu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ia(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,bh(e,t,i,n,s)):(e=ni(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:es,r(o,n)&&e.ref===t.ref)return jt(e,t,s)}return t.flags|=1,e=Jt(i,n),e.ref=t.ref,e.return=t,t.child=e}function bh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(es(i,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,jt(e,t,s)}return bl(e,t,r,n,s)}function kh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Hr,Re),Re|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,W(Hr,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,W(Hr,Re),Re|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,W(Hr,Re),Re|=n;return we(e,t,s,r),t.child}function jh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bl(e,t,r,n,s){var i=Pe(r)?mr:xe.current;return i=en(t,i),Qr(t,s),r=Sa(e,t,r,n,i,s),n=Ca(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(K&&n&&fa(t),t.flags|=1,we(e,t,r,s),t.child)}function Ju(e,t,r,n,s){if(Pe(r)){var i=!0;pi(t)}else i=!1;if(Qr(t,s),t.stateNode===null)ei(e,t),xh(t,r,n),wl(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=We(c):(c=Pe(r)?mr:xe.current,c=en(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&Bu(t,o,n,c),Lt=!1;var f=t.memoizedState;o.state=f,xi(t,n,o,s),u=t.memoizedState,a!==n||f!==u||Ne.current||Lt?(typeof d=="function"&&(xl(t,r,d,n),u=t.memoizedState),(a=Lt||Fu(t,r,a,n,f,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Xd(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ye(t.type,a),o.props=c,h=t.pendingProps,f=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=We(u):(u=Pe(r)?mr:xe.current,u=en(t,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&Bu(t,o,n,u),Lt=!1,f=t.memoizedState,o.state=f,xi(t,n,o,s);var y=t.memoizedState;a!==h||f!==y||Ne.current||Lt?(typeof v=="function"&&(xl(t,r,v,n),y=t.memoizedState),(c=Lt||Fu(t,r,c,n,f,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return kl(e,t,r,n,i,s)}function kl(e,t,r,n,s,i){jh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Lu(t,r,!1),jt(e,t,i);n=t.stateNode,Ym.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=rn(t,e.child,null,i),t.child=rn(t,null,a,i)):we(e,t,a,i),t.memoizedState=n.state,s&&Lu(t,r,!0),t.child}function Sh(e){var t=e.stateNode;t.pendingContext?Ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ru(e,t.context,!1),_a(e,t.containerInfo)}function Qu(e,t,r,n,s){return tn(),ma(s),t.flags|=256,we(e,t,r,n),t.child}var jl={dehydrated:null,treeContext:null,retryLane:0};function Sl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ch(e,t,r){var n=t.pendingProps,s=Y.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),W(Y,s&1),e===null)return vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vi(o,n,0,null),e=pr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sl(r),t.memoizedState=jl,e):Pa(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Xm(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Jt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Jt(a,i):(i=pr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Sl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=jl,n}return i=e.child,e=i.sibling,n=Jt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Pa(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zs(e,t,r,n){return n!==null&&ma(n),rn(t,e.child,null,r),e=Pa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xm(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Po(Error(C(422))),zs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Vi({mode:"visible",children:n.children},s,0,null),i=pr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&rn(t,e.child,null,o),t.child.memoizedState=Sl(o),t.memoizedState=jl,i);if(!(t.mode&1))return zs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(C(419)),n=Po(i,n,void 0),zs(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ee||a){if(n=de,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(e,s),rt(n,e,s,-1))}return $a(),n=Po(Error(C(421))),zs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=dg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Le=Ht(s.nextSibling),Ae=t,K=!0,et=null,e!==null&&(Me[Ue++]=yt,Me[Ue++]=xt,Me[Ue++]=gr,yt=e.id,xt=e.overflow,gr=t),t=Pa(t,n.children),t.flags|=4096,t)}function Ku(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),yl(e.return,t,r)}function To(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Eh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(we(e,t,n.children,r),n=Y.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ku(e,r,t);else if(e.tag===19)Ku(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(W(Y,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&wi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),To(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}To(t,!0,r,null,i);break;case"together":To(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ei(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=Jt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Zm(e,t,r){switch(t.tag){case 3:Sh(t),tn();break;case 5:Zd(t);break;case 1:Pe(t.type)&&pi(t);break;case 4:_a(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;W(vi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(W(Y,Y.current&1),t.flags|=128,null):r&t.child.childLanes?Ch(e,t,r):(W(Y,Y.current&1),e=jt(e,t,r),e!==null?e.sibling:null);W(Y,Y.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Eh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(Y,Y.current),n)break;return null;case 22:case 23:return t.lanes=0,kh(e,t,r)}return jt(e,t,r)}var Nh,Cl,Ph,Th;Nh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cl=function(){};Ph=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,hr(ht.current);var i=null;switch(r){case"input":s=Jo(e,s),n=Jo(e,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=Yo(e,s),n=Yo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hi)}Zo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&G("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Th=function(e,t,r,n){r!==n&&(t.flags|=4)};function Sn(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function eg(e,t,r){var n=t.pendingProps;switch(pa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return Pe(t.type)&&fi(),ve(t),null;case 3:return n=t.stateNode,nn(),Q(Ne),Q(xe),ka(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(Al(et),et=null))),Cl(e,t),ve(t),null;case 5:ba(t);var s=hr(is.current);if(r=t.type,e!==null&&t.stateNode!=null)Ph(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return ve(t),null}if(e=hr(ht.current),$s(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ct]=t,n[ns]=i,e=(t.mode&1)!==0,r){case"dialog":G("cancel",n),G("close",n);break;case"iframe":case"object":case"embed":G("load",n);break;case"video":case"audio":for(s=0;s<Ln.length;s++)G(Ln[s],n);break;case"source":G("error",n);break;case"img":case"image":case"link":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"input":iu(n,i),G("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},G("invalid",n);break;case"textarea":lu(n,i),G("invalid",n)}Zo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&As(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&As(n.textContent,a,e),s=["children",""+a]):Gn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&G("scroll",n)}switch(r){case"input":Cs(n),ou(n,i,!0);break;case"textarea":Cs(n),au(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=hi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ct]=t,e[ns]=n,Nh(e,t,!1,!1),t.stateNode=e;e:{switch(o=el(r,n),r){case"dialog":G("cancel",e),G("close",e),s=n;break;case"iframe":case"object":case"embed":G("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ln.length;s++)G(Ln[s],e);s=n;break;case"source":G("error",e),s=n;break;case"img":case"image":case"link":G("error",e),G("load",e),s=n;break;case"details":G("toggle",e),s=n;break;case"input":iu(e,n),s=Jo(e,n),G("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),G("invalid",e);break;case"textarea":lu(e,n),s=Yo(e,n),G("invalid",e);break;default:s=n}Zo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?ld(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&id(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Jn(e,u):typeof u=="number"&&Jn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&G("scroll",e):u!=null&&Zl(e,i,u,o))}switch(r){case"input":Cs(e),ou(e,n,!1);break;case"textarea":Cs(e),au(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=hi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)Th(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=hr(is.current),hr(ht.current),$s(t)){if(n=t.stateNode,r=t.memoizedProps,n[ct]=t,(i=n.nodeValue!==r)&&(e=Ae,e!==null))switch(e.tag){case 3:As(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&As(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ct]=t,t.stateNode=n}return ve(t),null;case 13:if(Q(Y),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(K&&Le!==null&&t.mode&1&&!(t.flags&128))Jd(),tn(),t.flags|=98560,i=!1;else if(i=$s(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[ct]=t}else tn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),i=!1}else et!==null&&(Al(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?le===0&&(le=3):$a())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return nn(),Cl(e,t),e===null&&ts(t.stateNode.containerInfo),ve(t),null;case 10:return ya(t.type._context),ve(t),null;case 17:return Pe(t.type)&&fi(),ve(t),null;case 19:if(Q(Y),i=t.memoizedState,i===null)return ve(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Sn(i,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wi(e),o!==null){for(t.flags|=128,Sn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return W(Y,Y.current&1|2),t.child}e=e.sibling}i.tail!==null&&re()>on&&(t.flags|=128,n=!0,Sn(i,!1),t.lanes=4194304)}else{if(!n)if(e=wi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Sn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!K)return ve(t),null}else 2*re()-i.renderingStartTime>on&&r!==1073741824&&(t.flags|=128,n=!0,Sn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=re(),t.sibling=null,r=Y.current,W(Y,n?r&1|2:r&1),t):(ve(t),null);case 22:case 23:return Aa(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Re&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function tg(e,t){switch(pa(t),t.tag){case 1:return Pe(t.type)&&fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(),Q(Ne),Q(xe),ka(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ba(t),null;case 13:if(Q(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));tn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Y),null;case 4:return nn(),null;case 10:return ya(t.type._context),null;case 22:case 23:return Aa(),null;case 24:return null;default:return null}}var Ds=!1,ye=!1,rg=typeof WeakSet=="function"?WeakSet:Set,T=null;function Vr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ee(e,t,n)}else r.current=null}function El(e,t,r){try{r()}catch(n){ee(e,t,n)}}var Yu=!1;function ng(e,t){if(cl=ui,e=$d(),ha(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(u=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(dl={focusedElem:e,selectionRange:r},ui=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ye(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(k){ee(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return y=Yu,Yu=!1,y}function Fn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&El(t,r,i)}s=s.next}while(s!==n)}}function Fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Nl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Oh(e){var t=e.alternate;t!==null&&(e.alternate=null,Oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[ns],delete t[pl],delete t[Mm],delete t[Um])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rh(e){return e.tag===5||e.tag===3||e.tag===4}function Xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hi));else if(n!==4&&(e=e.child,e!==null))for(Pl(e,t,r),e=e.sibling;e!==null;)Pl(e,t,r),e=e.sibling}function Tl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Tl(e,t,r),e=e.sibling;e!==null;)Tl(e,t,r),e=e.sibling}var he=null,Xe=!1;function Et(e,t,r){for(r=r.child;r!==null;)Lh(e,t,r),r=r.sibling}function Lh(e,t,r){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Li,r)}catch{}switch(r.tag){case 5:ye||Vr(r,t);case 6:var n=he,s=Xe;he=null,Et(e,t,r),he=n,Xe=s,he!==null&&(Xe?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Xe?(e=he,r=r.stateNode,e.nodeType===8?ko(e.parentNode,r):e.nodeType===1&&ko(e,r),Xn(e)):ko(he,r.stateNode));break;case 4:n=he,s=Xe,he=r.stateNode.containerInfo,Xe=!0,Et(e,t,r),he=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&El(r,t,o),s=s.next}while(s!==n)}Et(e,t,r);break;case 1:if(!ye&&(Vr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ee(r,t,a)}Et(e,t,r);break;case 21:Et(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Et(e,t,r),ye=n):Et(e,t,r);break;default:Et(e,t,r)}}function Zu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rg),t.forEach(function(n){var s=hg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ke(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,Xe=!1;break e;case 3:he=a.stateNode.containerInfo,Xe=!0;break e;case 4:he=a.stateNode.containerInfo,Xe=!0;break e}a=a.return}if(he===null)throw Error(C(160));Lh(i,o,s),he=null,Xe=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ee(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ah(t,e),t=t.sibling}function Ah(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),lt(e),n&4){try{Fn(3,e,e.return),Fi(3,e)}catch(w){ee(e,e.return,w)}try{Fn(5,e,e.return)}catch(w){ee(e,e.return,w)}}break;case 1:Ke(t,e),lt(e),n&512&&r!==null&&Vr(r,r.return);break;case 5:if(Ke(t,e),lt(e),n&512&&r!==null&&Vr(r,r.return),e.flags&32){var s=e.stateNode;try{Jn(s,"")}catch(w){ee(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rd(s,i),el(a,o);var c=el(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?ld(s,h):d==="dangerouslySetInnerHTML"?id(s,h):d==="children"?Jn(s,h):Zl(s,d,h,c)}switch(a){case"input":Qo(s,i);break;case"textarea":nd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Wr(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ns]=i}catch(w){ee(e,e.return,w)}}break;case 6:if(Ke(t,e),lt(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ee(e,e.return,w)}}break;case 3:if(Ke(t,e),lt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xn(t.containerInfo)}catch(w){ee(e,e.return,w)}break;case 4:Ke(t,e),lt(e);break;case 13:Ke(t,e),lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ra=re())),n&4&&Zu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(c=ye)||d,Ke(t,e),ye=c):Ke(t,e),lt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(T=e,d=e.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,v=f.child,f.tag){case 0:case 11:case 14:case 15:Fn(4,f,f.return);break;case 1:Vr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){ee(n,r,w)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){tc(h);continue}}v!==null?(v.return=f,T=v):tc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=od("display",o))}catch(w){ee(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){ee(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(t,e),lt(e),n&4&&Zu(e);break;case 21:break;default:Ke(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Rh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Jn(s,""),n.flags&=-33);var i=Xu(e);Tl(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Xu(e);Pl(e,a,o);break;default:throw Error(C(161))}}catch(u){ee(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sg(e,t,r){T=e,$h(e)}function $h(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ds;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ye;a=Ds;var c=ye;if(Ds=o,(ye=u)&&!c)for(T=s;T!==null;)o=T,u=o.child,o.tag===22&&o.memoizedState!==null?rc(s):u!==null?(u.return=o,T=u):rc(s);for(;i!==null;)T=i,$h(i),i=i.sibling;T=s,Ds=a,ye=c}ec(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):ec(e)}}function ec(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||Fi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ye(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Du(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Du(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}ye||t.flags&512&&Nl(t)}catch(f){ee(t,t.return,f)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function tc(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function rc(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fi(4,t)}catch(u){ee(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){ee(t,s,u)}}var i=t.return;try{Nl(t)}catch(u){ee(t,i,u)}break;case 5:var o=t.return;try{Nl(t)}catch(u){ee(t,o,u)}}}catch(u){ee(t,t.return,u)}if(t===e){T=null;break}var a=t.sibling;if(a!==null){a.return=t.return,T=a;break}T=t.return}}var ig=Math.ceil,ki=St.ReactCurrentDispatcher,Ta=St.ReactCurrentOwner,Ve=St.ReactCurrentBatchConfig,M=0,de=null,ie=null,fe=0,Re=0,Hr=er(0),le=0,us=null,yr=0,Bi=0,Oa=0,Bn=null,Se=null,Ra=0,on=1/0,mt=null,ji=!1,Ol=null,qt=null,Ms=!1,Mt=null,Si=0,Vn=0,Rl=null,ti=-1,ri=0;function _e(){return M&6?re():ti!==-1?ti:ti=re()}function Gt(e){return e.mode&1?M&2&&fe!==0?fe&-fe:Bm.transition!==null?(ri===0&&(ri=xd()),ri):(e=F,e!==0||(e=window.event,e=e===void 0?16:Cd(e.type)),e):1}function rt(e,t,r,n){if(50<Vn)throw Vn=0,Rl=null,Error(C(185));gs(e,r,n),(!(M&2)||e!==de)&&(e===de&&(!(M&2)&&(Bi|=r),le===4&&It(e,fe)),Te(e,n),r===1&&M===0&&!(t.mode&1)&&(on=re()+500,Di&&tr()))}function Te(e,t){var r=e.callbackNode;Bp(e,t);var n=ai(e,e===de?fe:0);if(n===0)r!==null&&du(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&du(r),t===1)e.tag===0?Fm(nc.bind(null,e)):Wd(nc.bind(null,e)),zm(function(){!(M&6)&&tr()}),r=null;else{switch(wd(n)){case 1:r=sa;break;case 4:r=vd;break;case 16:r=li;break;case 536870912:r=yd;break;default:r=li}r=Vh(r,Ih.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ih(e,t){if(ti=-1,ri=0,M&6)throw Error(C(327));var r=e.callbackNode;if(Kr()&&e.callbackNode!==r)return null;var n=ai(e,e===de?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ci(e,n);else{t=n;var s=M;M|=2;var i=Dh();(de!==e||fe!==t)&&(mt=null,on=re()+500,fr(e,t));do try{ag();break}catch(a){zh(e,a)}while(!0);va(),ki.current=i,M=s,ie!==null?t=0:(de=null,fe=0,t=le)}if(t!==0){if(t===2&&(s=il(e),s!==0&&(n=s,t=Ll(e,s))),t===1)throw r=us,fr(e,0),It(e,n),Te(e,re()),r;if(t===6)It(e,n);else{if(s=e.current.alternate,!(n&30)&&!og(s)&&(t=Ci(e,n),t===2&&(i=il(e),i!==0&&(n=i,t=Ll(e,i))),t===1))throw r=us,fr(e,0),It(e,n),Te(e,re()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:lr(e,Se,mt);break;case 3:if(It(e,n),(n&130023424)===n&&(t=Ra+500-re(),10<t)){if(ai(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=fl(lr.bind(null,e,Se,mt),t);break}lr(e,Se,mt);break;case 4:if(It(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-tt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ig(n/1960))-n,10<n){e.timeoutHandle=fl(lr.bind(null,e,Se,mt),n);break}lr(e,Se,mt);break;case 5:lr(e,Se,mt);break;default:throw Error(C(329))}}}return Te(e,re()),e.callbackNode===r?Ih.bind(null,e):null}function Ll(e,t){var r=Bn;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=Ci(e,t),e!==2&&(t=Se,Se=r,t!==null&&Al(t)),e}function Al(e){Se===null?Se=e:Se.push.apply(Se,e)}function og(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~Oa,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tt(t),n=1<<r;e[r]=-1,t&=~n}}function nc(e){if(M&6)throw Error(C(327));Kr();var t=ai(e,0);if(!(t&1))return Te(e,re()),null;var r=Ci(e,t);if(e.tag!==0&&r===2){var n=il(e);n!==0&&(t=n,r=Ll(e,n))}if(r===1)throw r=us,fr(e,0),It(e,t),Te(e,re()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,Se,mt),Te(e,re()),null}function La(e,t){var r=M;M|=1;try{return e(t)}finally{M=r,M===0&&(on=re()+500,Di&&tr())}}function xr(e){Mt!==null&&Mt.tag===0&&!(M&6)&&Kr();var t=M;M|=1;var r=Ve.transition,n=F;try{if(Ve.transition=null,F=1,e)return e()}finally{F=n,Ve.transition=r,M=t,!(M&6)&&tr()}}function Aa(){Re=Hr.current,Q(Hr)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Im(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(pa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fi();break;case 3:nn(),Q(Ne),Q(xe),ka();break;case 5:ba(n);break;case 4:nn();break;case 13:Q(Y);break;case 19:Q(Y);break;case 10:ya(n.type._context);break;case 22:case 23:Aa()}r=r.return}if(de=e,ie=e=Jt(e.current,null),fe=Re=t,le=0,us=null,Oa=Bi=yr=0,Se=Bn=null,dr!==null){for(t=0;t<dr.length;t++)if(r=dr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}dr=null}return e}function zh(e,t){do{var r=ie;try{if(va(),Xs.current=bi,_i){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_i=!1}if(vr=0,ce=oe=X=null,Un=!1,os=0,Ta.current=null,r===null||r.return===null){le=1,us=t,ie=null;break}e:{var i=e,o=r.return,a=r,u=t;if(t=fe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Hu(o);if(v!==null){v.flags&=-257,Wu(v,o,a,i,t),v.mode&1&&Vu(i,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){Vu(i,c,t),$a();break e}u=Error(C(426))}}else if(K&&a.mode&1){var b=Hu(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Wu(b,o,a,i,t),ma(sn(u,a));break e}}i=u=sn(u,a),le!==4&&(le=2),Bn===null?Bn=[i]:Bn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=wh(i,u,t);zu(i,m);break e;case 1:a=u;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qt===null||!qt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=_h(i,a,t);zu(i,k);break e}}i=i.return}while(i!==null)}Uh(r)}catch(_){t=_,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function Dh(){var e=ki.current;return ki.current=bi,e===null?bi:e}function $a(){(le===0||le===3||le===2)&&(le=4),de===null||!(yr&268435455)&&!(Bi&268435455)||It(de,fe)}function Ci(e,t){var r=M;M|=2;var n=Dh();(de!==e||fe!==t)&&(mt=null,fr(e,t));do try{lg();break}catch(s){zh(e,s)}while(!0);if(va(),M=r,ki.current=n,ie!==null)throw Error(C(261));return de=null,fe=0,le}function lg(){for(;ie!==null;)Mh(ie)}function ag(){for(;ie!==null&&!Lp();)Mh(ie)}function Mh(e){var t=Bh(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?Uh(e):ie=t,Ta.current=null}function Uh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=tg(r,t),r!==null){r.flags&=32767,ie=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,ie=null;return}}else if(r=eg(r,t,Re),r!==null){ie=r;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);le===0&&(le=5)}function lr(e,t,r){var n=F,s=Ve.transition;try{Ve.transition=null,F=1,ug(e,t,r,n)}finally{Ve.transition=s,F=n}return null}function ug(e,t,r,n){do Kr();while(Mt!==null);if(M&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Vp(e,i),e===de&&(ie=de=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ms||(Ms=!0,Vh(li,function(){return Kr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ve.transition,Ve.transition=null;var o=F;F=1;var a=M;M|=4,Ta.current=null,ng(e,r),Ah(r,e),Pm(dl),ui=!!cl,dl=cl=null,e.current=r,sg(r),Ap(),M=a,F=o,Ve.transition=i}else e.current=r;if(Ms&&(Ms=!1,Mt=e,Si=s),i=e.pendingLanes,i===0&&(qt=null),zp(r.stateNode),Te(e,re()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ji)throw ji=!1,e=Ol,Ol=null,e;return Si&1&&e.tag!==0&&Kr(),i=e.pendingLanes,i&1?e===Rl?Vn++:(Vn=0,Rl=e):Vn=0,tr(),null}function Kr(){if(Mt!==null){var e=wd(Si),t=Ve.transition,r=F;try{if(Ve.transition=null,F=16>e?16:e,Mt===null)var n=!1;else{if(e=Mt,Mt=null,Si=0,M&6)throw Error(C(331));var s=M;for(M|=4,T=e.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Fn(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,v=d.return;if(Oh(d),d===c){T=null;break}if(f!==null){f.return=v,T=f;break}T=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var p=e.current;for(T=p;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=p;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fi(9,a)}}catch(_){ee(a,a.return,_)}if(a===o){T=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,T=k;break e}T=a.return}}if(M=s,tr(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Li,e)}catch{}n=!0}return n}finally{F=r,Ve.transition=t}}return!1}function sc(e,t,r){t=sn(r,t),t=wh(e,t,1),e=Wt(e,t,1),t=_e(),e!==null&&(gs(e,1,t),Te(e,t))}function ee(e,t,r){if(e.tag===3)sc(e,e,r);else for(;t!==null;){if(t.tag===3){sc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qt===null||!qt.has(n))){e=sn(r,e),e=_h(t,e,1),t=Wt(t,e,1),e=_e(),t!==null&&(gs(t,1,e),Te(t,e));break}}t=t.return}}function cg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(fe&r)===r&&(le===4||le===3&&(fe&130023424)===fe&&500>re()-Ra?fr(e,0):Oa|=r),Te(e,t)}function Fh(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var r=_e();e=kt(e,t),e!==null&&(gs(e,t,r),Te(e,r))}function dg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fh(e,r)}function hg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),Fh(e,r)}var Bh;Bh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ne.current)Ee=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ee=!1,Zm(e,t,r);Ee=!!(e.flags&131072)}else Ee=!1,K&&t.flags&1048576&&qd(t,gi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ei(e,t),e=t.pendingProps;var s=en(t,xe.current);Qr(t,r),s=Sa(null,t,n,e,s,r);var i=Ca();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(n)?(i=!0,pi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wa(t),s.updater=Ui,t.stateNode=s,s._reactInternals=t,wl(t,n,e,r),t=kl(null,t,n,!0,i,r)):(t.tag=0,K&&i&&fa(t),we(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ei(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=pg(n),e=Ye(n,e),s){case 0:t=bl(null,t,n,e,r);break e;case 1:t=Ju(null,t,n,e,r);break e;case 11:t=qu(null,t,n,e,r);break e;case 14:t=Gu(null,t,n,Ye(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),bl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Ju(e,t,n,s,r);case 3:e:{if(Sh(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Xd(e,t),xi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=sn(Error(C(423)),t),t=Qu(e,t,n,r,s);break e}else if(n!==s){s=sn(Error(C(424)),t),t=Qu(e,t,n,r,s);break e}else for(Le=Ht(t.stateNode.containerInfo.firstChild),Ae=t,K=!0,et=null,r=Kd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tn(),n===s){t=jt(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return Zd(t),e===null&&vl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,hl(n,s)?o=null:i!==null&&hl(n,i)&&(t.flags|=32),jh(e,t),we(e,t,o,r),t.child;case 6:return e===null&&vl(t),null;case 13:return Ch(e,t,r);case 4:return _a(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rn(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),qu(e,t,n,s,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,W(vi,n._currentValue),n._currentValue=o,i!==null)if(st(i.value,o)){if(i.children===s.children&&!Ne.current){t=jt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=wt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),yl(i.return,r,t),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),yl(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Qr(t,r),s=We(s),n=n(s),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,s=Ye(n,t.pendingProps),s=Ye(n.type,s),Gu(e,t,n,s,r);case 15:return bh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),ei(e,t),t.tag=1,Pe(n)?(e=!0,pi(t)):e=!1,Qr(t,r),xh(t,n,s),wl(t,n,s,r),kl(null,t,n,!0,e,r);case 19:return Eh(e,t,r);case 22:return kh(e,t,r)}throw Error(C(156,t.tag))};function Vh(e,t){return gd(e,t)}function fg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(e,t,r,n){return new fg(e,t,r,n)}function Ia(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pg(e){if(typeof e=="function")return Ia(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ta)return 11;if(e===ra)return 14}return 2}function Jt(e,t){var r=e.alternate;return r===null?(r=Fe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ni(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Ia(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ar:return pr(r.children,s,i,t);case ea:o=8,s|=8;break;case Ho:return e=Fe(12,r,t,s|2),e.elementType=Ho,e.lanes=i,e;case Wo:return e=Fe(13,r,t,s),e.elementType=Wo,e.lanes=i,e;case qo:return e=Fe(19,r,t,s),e.elementType=qo,e.lanes=i,e;case Zc:return Vi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yc:o=10;break e;case Xc:o=9;break e;case ta:o=11;break e;case ra:o=14;break e;case Rt:o=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Fe(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function pr(e,t,r,n){return e=Fe(7,e,n,t),e.lanes=r,e}function Vi(e,t,r,n){return e=Fe(22,e,n,t),e.elementType=Zc,e.lanes=r,e.stateNode={isHidden:!1},e}function Oo(e,t,r){return e=Fe(6,e,null,t),e.lanes=r,e}function Ro(e,t,r){return t=Fe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ho(0),this.expirationTimes=ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function za(e,t,r,n,s,i,o,a,u){return e=new mg(e,t,r,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wa(i),e}function gg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Hh(e){if(!e)return Xt;e=e._reactInternals;e:{if(br(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Pe(r))return Hd(e,r,t)}return t}function Wh(e,t,r,n,s,i,o,a,u){return e=za(r,n,!0,e,s,i,o,a,u),e.context=Hh(null),r=e.current,n=_e(),s=Gt(r),i=wt(n,s),i.callback=t??null,Wt(r,i,s),e.current.lanes=s,gs(e,s,n),Te(e,n),e}function Hi(e,t,r,n){var s=t.current,i=_e(),o=Gt(s);return r=Hh(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wt(s,t,o),e!==null&&(rt(e,s,o,i),Ys(e,s,o)),o}function Ei(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ic(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Da(e,t){ic(e,t),(e=e.alternate)&&ic(e,t)}function vg(){return null}var qh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ma(e){this._internalRoot=e}Wi.prototype.render=Ma.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Hi(e,t,null,null)};Wi.prototype.unmount=Ma.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){Hi(null,e,null,null)}),t[bt]=null}};function Wi(e){this._internalRoot=e}Wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=kd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$t.length&&t!==0&&t<$t[r].priority;r++);$t.splice(r,0,e),r===0&&Sd(e)}};function Ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oc(){}function yg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ei(o);i.call(c)}}var o=Wh(t,n,e,0,null,!1,!1,"",oc);return e._reactRootContainer=o,e[bt]=o.current,ts(e.nodeType===8?e.parentNode:e),xr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Ei(u);a.call(c)}}var u=za(e,0,!1,null,null,!1,!1,"",oc);return e._reactRootContainer=u,e[bt]=u.current,ts(e.nodeType===8?e.parentNode:e),xr(function(){Hi(t,u,r,n)}),u}function Gi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Ei(o);a.call(u)}}Hi(t,o,e,s)}else o=yg(r,t,e,s,n);return Ei(o)}_d=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rn(t.pendingLanes);r!==0&&(ia(t,r|1),Te(t,re()),!(M&6)&&(on=re()+500,tr()))}break;case 13:xr(function(){var n=kt(e,1);if(n!==null){var s=_e();rt(n,e,1,s)}}),Da(e,1)}};oa=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var r=_e();rt(t,e,134217728,r)}Da(e,134217728)}};bd=function(e){if(e.tag===13){var t=Gt(e),r=kt(e,t);if(r!==null){var n=_e();rt(r,e,t,n)}Da(e,t)}};kd=function(){return F};jd=function(e,t){var r=F;try{return F=e,t()}finally{F=r}};rl=function(e,t,r){switch(t){case"input":if(Qo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=zi(n);if(!s)throw Error(C(90));td(n),Qo(n,s)}}}break;case"textarea":nd(e,r);break;case"select":t=r.value,t!=null&&Wr(e,!!r.multiple,t,!1)}};cd=La;dd=xr;var xg={usingClientEntryPoint:!1,Events:[ys,Dr,zi,ad,ud,La]},Cn={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wg={bundleType:Cn.bundleType,version:Cn.version,rendererPackageName:Cn.rendererPackageName,rendererConfig:Cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pd(e),e===null?null:e.stateNode},findFiberByHostInstance:Cn.findFiberByHostInstance||vg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{Li=Us.inject(wg),dt=Us}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xg;Ie.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ua(t))throw Error(C(200));return gg(e,t,null,r)};Ie.createRoot=function(e,t){if(!Ua(e))throw Error(C(299));var r=!1,n="",s=qh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=za(e,1,!1,null,null,r,!1,n,s),e[bt]=t.current,ts(e.nodeType===8?e.parentNode:e),new Ma(t)};Ie.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=pd(t),e=e===null?null:e.stateNode,e};Ie.flushSync=function(e){return xr(e)};Ie.hydrate=function(e,t,r){if(!qi(t))throw Error(C(200));return Gi(null,e,t,!0,r)};Ie.hydrateRoot=function(e,t,r){if(!Ua(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=qh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Wh(t,null,e,1,r??null,s,!1,i,o),e[bt]=t.current,ts(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Wi(t)};Ie.render=function(e,t,r){if(!qi(t))throw Error(C(200));return Gi(null,e,t,!1,r)};Ie.unmountComponentAtNode=function(e){if(!qi(e))throw Error(C(40));return e._reactRootContainer?(xr(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};Ie.unstable_batchedUpdates=La;Ie.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qi(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Gi(e,t,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function Gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gh)}catch(e){console.error(e)}}Gh(),Gc.exports=Ie;var _g=Gc.exports,Jh,lc=_g;Jh=lc.createRoot,lc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(this,arguments)}var Ut;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ut||(Ut={}));const ac="popstate";function bg(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return $l("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ni(s)}return jg(t,r,null,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kg(){return Math.random().toString(36).substr(2,8)}function uc(e,t){return{usr:e.state,key:e.key,idx:t}}function $l(e,t,r,n){return r===void 0&&(r=null),cs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pn(t):t,{state:r,key:t&&t.key||n||kg()})}function Ni(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function jg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Ut.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(cs({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ut.Pop;let b=d(),m=b==null?null:b-c;c=b,u&&u({action:a,location:w.location,delta:m})}function f(b,m){a=Ut.Push;let p=$l(w.location,b,m);c=d()+1;let g=uc(p,c),k=w.createHref(p);try{o.pushState(g,"",k)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(k)}i&&u&&u({action:a,location:w.location,delta:1})}function v(b,m){a=Ut.Replace;let p=$l(w.location,b,m);c=d();let g=uc(p,c),k=w.createHref(p);o.replaceState(g,"",k),i&&u&&u({action:a,location:w.location,delta:0})}function y(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof b=="string"?b:Ni(b);return p=p.replace(/ $/,"%20"),ne(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let w={get action(){return a},get location(){return e(s,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ac,h),u=b,()=>{s.removeEventListener(ac,h),u=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let m=y(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(b){return o.go(b)}};return w}var cc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cc||(cc={}));function Sg(e,t,r){return r===void 0&&(r="/"),Cg(e,t,r,!1)}function Cg(e,t,r,n){let s=typeof t=="string"?pn(t):t,i=Fa(s.pathname||"/",r);if(i==null)return null;let o=Kh(e);Eg(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Dg(i);a=Ig(o[u],c,n)}return a}function Kh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ne(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Qt([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Kh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Ag(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of Yh(i.path))s(i,o,u)}),t}function Yh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Yh(n.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Eg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$g(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ng=/^:[\w-]+$/,Pg=3,Tg=2,Og=1,Rg=10,Lg=-2,dc=e=>e==="*";function Ag(e,t){let r=e.split("/"),n=r.length;return r.some(dc)&&(n+=Lg),t&&(n+=Tg),r.filter(s=>!dc(s)).reduce((s,i)=>s+(Ng.test(i)?Pg:i===""?Og:Rg),n)}function $g(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Ig(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],c=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=hc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=hc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Qt([i,h.pathname]),pathnameBase:Bg(Qt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Qt([i,h.pathnameBase]))}return o}function hc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=zg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return v&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function zg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Qh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Dg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Mg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?pn(e):e;return{pathname:r?r.startsWith("/")?r:Ug(r,t):t,search:Vg(n),hash:Hg(s)}}function Ug(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Lo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ba(e,t){let r=Fg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Va(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=pn(e):(s=cs({},e),ne(!s.pathname||!s.pathname.includes("?"),Lo("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Lo("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Lo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let u=Mg(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Qt=e=>e.join("/").replace(/\/\/+/g,"/"),Bg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Vg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xh=["post","put","patch","delete"];new Set(Xh);const qg=["get",...Xh];new Set(qg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(this,arguments)}const Ha=j.createContext(null),Gg=j.createContext(null),rr=j.createContext(null),Ji=j.createContext(null),ft=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Zh=j.createContext(null);function Jg(e,t){let{relative:r}=t===void 0?{}:t;mn()||ne(!1);let{basename:n,navigator:s}=j.useContext(rr),{hash:i,pathname:o,search:a}=rf(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:Qt([n,o])),s.createHref({pathname:u,search:a,hash:i})}function mn(){return j.useContext(Ji)!=null}function kr(){return mn()||ne(!1),j.useContext(Ji).location}function ef(e){j.useContext(rr).static||j.useLayoutEffect(e)}function Ge(){let{isDataRoute:e}=j.useContext(ft);return e?u0():Qg()}function Qg(){mn()||ne(!1);let e=j.useContext(Ha),{basename:t,future:r,navigator:n}=j.useContext(rr),{matches:s}=j.useContext(ft),{pathname:i}=kr(),o=JSON.stringify(Ba(s,r.v7_relativeSplatPath)),a=j.useRef(!1);return ef(()=>{a.current=!0}),j.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=Va(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const Kg=j.createContext(null);function Yg(e){let t=j.useContext(ft).outlet;return t&&j.createElement(Kg.Provider,{value:e},t)}function tf(){let{matches:e}=j.useContext(ft),t=e[e.length-1];return t?t.params:{}}function rf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(rr),{matches:s}=j.useContext(ft),{pathname:i}=kr(),o=JSON.stringify(Ba(s,n.v7_relativeSplatPath));return j.useMemo(()=>Va(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Xg(e,t){return Zg(e,t)}function Zg(e,t,r,n){mn()||ne(!1);let{navigator:s,static:i}=j.useContext(rr),{matches:o}=j.useContext(ft),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=kr(),h;if(t){var f;let m=typeof t=="string"?pn(t):t;c==="/"||(f=m.pathname)!=null&&f.startsWith(c)||ne(!1),h=m}else h=d;let v=h.pathname||"/",y=v;if(c!=="/"){let m=c.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=!i&&r&&r.matches&&r.matches.length>0?r.matches:Sg(e,{pathname:y}),b=s0(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},u,m.params),pathname:Qt([c,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Qt([c,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,r,n);return t&&b?j.createElement(Ji.Provider,{value:{location:ds({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ut.Pop}},b):b}function e0(){let e=a0(),t=Wg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:s},r):null,null)}const t0=j.createElement(e0,null);class r0 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(ft.Provider,{value:this.props.routeContext},j.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n0(e){let{routeContext:t,match:r,children:n}=e,s=j.useContext(Ha);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(ft.Provider,{value:t},n)}function s0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ne(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:v}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,y=!1,w=null,b=null;r&&(v=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||t0,u&&(c<0&&f===0?(y=!0,b=null):c===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let g;return v?g=w:y?g=b:h.route.Component?g=j.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,j.createElement(n0,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(r0,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var nf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nf||{}),Pi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pi||{});function i0(e){let t=j.useContext(Ha);return t||ne(!1),t}function o0(e){let t=j.useContext(Gg);return t||ne(!1),t}function l0(e){let t=j.useContext(ft);return t||ne(!1),t}function sf(e){let t=l0(),r=t.matches[t.matches.length-1];return r.route.id||ne(!1),r.route.id}function a0(){var e;let t=j.useContext(Zh),r=o0(Pi.UseRouteError),n=sf(Pi.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function u0(){let{router:e}=i0(nf.UseNavigateStable),t=sf(Pi.UseNavigateStable),r=j.useRef(!1);return ef(()=>{r.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ds({fromRouteId:t},i)))},[e,t])}function c0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function d0(e){let{to:t,replace:r,state:n,relative:s}=e;mn()||ne(!1);let{future:i,static:o}=j.useContext(rr),{matches:a}=j.useContext(ft),{pathname:u}=kr(),c=Ge(),d=Va(t,Ba(a,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return j.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function h0(e){return Yg(e.context)}function De(e){ne(!1)}function f0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ut.Pop,navigator:i,static:o=!1,future:a}=e;mn()&&ne(!1);let u=t.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:i,static:o,future:ds({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof n=="string"&&(n=pn(n));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:y="default"}=n,w=j.useMemo(()=>{let b=Fa(d,u);return b==null?null:{location:{pathname:b,search:h,hash:f,state:v,key:y},navigationType:s}},[u,d,h,f,v,y,s]);return w==null?null:j.createElement(rr.Provider,{value:c},j.createElement(Ji.Provider,{children:r,value:w}))}function p0(e){let{children:t,location:r}=e;return Xg(Il(t),r)}new Promise(()=>{});function Il(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,s)=>{if(!j.isValidElement(n))return;let i=[...t,s];if(n.type===j.Fragment){r.push.apply(r,Il(n.props.children,i));return}n.type!==De&&ne(!1),!n.props.index||!n.props.children||ne(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Il(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function m0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function g0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v0(e,t){return e.button===0&&(!t||t==="_self")&&!g0(e)}const y0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x0="6";try{window.__reactRouterVersion=x0}catch{}const w0="startTransition",fc=cp[w0];function _0(e){let{basename:t,children:r,future:n,window:s}=e,i=j.useRef();i.current==null&&(i.current=bg({window:s,v5Compat:!0}));let o=i.current,[a,u]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=j.useCallback(h=>{c&&fc?fc(()=>u(h)):u(h)},[u,c]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>c0(n),[n]),j.createElement(f0,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const b0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nr=j.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:h}=t,f=m0(t,y0),{basename:v}=j.useContext(rr),y,w=!1;if(typeof c=="string"&&k0.test(c)&&(y=c,b0))try{let g=new URL(window.location.href),k=c.startsWith("//")?new URL(g.protocol+c):new URL(c),_=Fa(k.pathname,v);k.origin===g.origin&&_!=null?c=_+k.search+k.hash:w=!0}catch{}let b=Jg(c,{relative:s}),m=j0(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:s,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||m(g)}return j.createElement("a",zl({},f,{href:y||b,onClick:w||i?n:p,ref:r,target:u}))});var pc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pc||(pc={}));var mc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mc||(mc={}));function j0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,u=Ge(),c=kr(),d=rf(e,{relative:o});return j.useCallback(h=>{if(v0(h,r)){h.preventDefault();let f=n!==void 0?n:Ni(c)===Ni(d);u(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,d,n,s,r,e,i,o,a])}const S0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRwcGxkYmd5cG54eWJ3Y3F5b3lkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0MjQwMjUsImV4cCI6MjA1ODAwMDAyNX0.AveYYilJOBxG-6iq6ljLoTYoQu13x2VUgJI2PvlvmN0",VITE_SUPABASE_URL:"https://tppldbgypnxybwcqyoyd.supabase.co"},gc=e=>{let t;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const v=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(y=>y(t,v))}},s=()=>t,u={setState:n,getState:s,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(S0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,s,u);return u},C0=e=>e?gc(e):gc;var of={exports:{}},lf={},af={exports:{}},uf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ln=j;function E0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N0=typeof Object.is=="function"?Object.is:E0,P0=ln.useState,T0=ln.useEffect,O0=ln.useLayoutEffect,R0=ln.useDebugValue;function L0(e,t){var r=t(),n=P0({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return O0(function(){s.value=r,s.getSnapshot=t,Ao(s)&&i({inst:s})},[e,r,t]),T0(function(){return Ao(s)&&i({inst:s}),e(function(){Ao(s)&&i({inst:s})})},[e]),R0(r),r}function Ao(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!N0(e,r)}catch{return!0}}function A0(e,t){return t()}var $0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A0:L0;uf.useSyncExternalStore=ln.useSyncExternalStore!==void 0?ln.useSyncExternalStore:$0;af.exports=uf;var I0=af.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=j,z0=I0;function D0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M0=typeof Object.is=="function"?Object.is:D0,U0=z0.useSyncExternalStore,F0=Qi.useRef,B0=Qi.useEffect,V0=Qi.useMemo,H0=Qi.useDebugValue;lf.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=F0(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=V0(function(){function u(v){if(!c){if(c=!0,d=v,v=n(v),s!==void 0&&o.hasValue){var y=o.value;if(s(y,v))return h=y}return h=v}if(y=h,M0(d,v))return y;var w=n(v);return s!==void 0&&s(y,w)?(d=v,y):(d=v,h=w)}var c=!1,d,h,f=r===void 0?null:r;return[function(){return u(t())},f===null?void 0:function(){return u(f())}]},[t,r,n,s]);var a=U0(e,i[0],i[1]);return B0(function(){o.hasValue=!0,o.value=a},[a]),H0(a),a};of.exports=lf;var W0=of.exports;const q0=$c(W0),cf={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRwcGxkYmd5cG54eWJ3Y3F5b3lkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0MjQwMjUsImV4cCI6MjA1ODAwMDAyNX0.AveYYilJOBxG-6iq6ljLoTYoQu13x2VUgJI2PvlvmN0",VITE_SUPABASE_URL:"https://tppldbgypnxybwcqyoyd.supabase.co"},{useDebugValue:G0}=Ri,{useSyncExternalStoreWithSelector:J0}=q0;let vc=!1;const Q0=e=>e;function K0(e,t=Q0,r){(cf?"production":void 0)!=="production"&&r&&!vc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),vc=!0);const n=J0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return G0(n),n}const yc=e=>{(cf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?C0(e):e,r=(n,s)=>K0(t,n,s);return Object.assign(r,t),r},Y0=e=>e?yc(e):yc,X0="modulepreload",Z0=function(e){return"/"+e},xc={},an=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Z0(u),u in xc)return;xc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":X0,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},ev=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>an(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Wa extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class tv extends Wa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rv extends Wa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nv extends Wa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dl||(Dl={}));var sv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class iv{constructor(t,{headers:r={},customFetch:n,region:s=Dl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=ev(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return sv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(a["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new tv(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new rv(d);if(!d.ok)throw new nv(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},qa={},Ki={},ws={},Yi={},Xi={},ov=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},un=ov();const lv=un.fetch,df=un.fetch.bind(un),hf=un.Headers,av=un.Request,uv=un.Response,gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:hf,Request:av,Response:uv,default:df,fetch:lv},Symbol.toStringTag,{value:"Module"})),cv=Jf(gn);var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});let dv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Zi.default=dv;var ff=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xi,"__esModule",{value:!0});const hv=ff(cv),fv=ff(Zi);let pv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&w===""?(f=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new fv.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Xi.default=pv;var mv=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yi,"__esModule",{value:!0});const gv=mv(Xi);let vv=class extends gv.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yi.default=vv;var yv=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ws,"__esModule",{value:!0});const xv=yv(Yi);let wv=class extends xv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ws.default=wv;var _v=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ki,"__esModule",{value:!0});const En=_v(ws);let bv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new En.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new En.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new En.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new En.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new En.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ki.default=bv;var eo={},to={};Object.defineProperty(to,"__esModule",{value:!0});to.version=void 0;to.version="0.0.0-automated";Object.defineProperty(eo,"__esModule",{value:!0});eo.DEFAULT_HEADERS=void 0;const kv=to;eo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${kv.version}`};var pf=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qa,"__esModule",{value:!0});const jv=pf(Ki),Sv=pf(ws),Cv=eo;let Ev=class mf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Cv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new jv.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Sv.default({method:o,url:a,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};qa.default=Ev;var vn=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const gf=vn(qa);Ce.PostgrestClient=gf.default;const vf=vn(Ki);Ce.PostgrestQueryBuilder=vf.default;const yf=vn(ws);Ce.PostgrestFilterBuilder=yf.default;const xf=vn(Yi);Ce.PostgrestTransformBuilder=xf.default;const wf=vn(Xi);Ce.PostgrestBuilder=wf.default;const _f=vn(Zi);Ce.PostgrestError=_f.default;var Nv=Ce.default={PostgrestClient:gf.default,PostgrestQueryBuilder:vf.default,PostgrestFilterBuilder:yf.default,PostgrestTransformBuilder:xf.default,PostgrestBuilder:wf.default,PostgrestError:_f.default};const{PostgrestClient:Pv,PostgrestQueryBuilder:Ew,PostgrestFilterBuilder:Nw,PostgrestTransformBuilder:Pw,PostgrestBuilder:Tw,PostgrestError:Ow}=Nv,Tv="2.11.2",Ov={"X-Client-Info":`realtime-js/${Tv}`},Rv="1.0.0",bf=1e4,Lv=1e3;var Yr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Yr||(Yr={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var Ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ze||(Ze={}));var Ml;(function(e){e.websocket="websocket"})(Ml||(Ml={}));var ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ur||(ur={}));class Av{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class kf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(H||(H={}));const wc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=$v(o,e,t,s),i),{})},$v=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?jf(i,o):Ul(o)},jf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Mv(t,r)}switch(e){case H.bool:return Iv(t);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return zv(t);case H.json:case H.jsonb:return Dv(t);case H.timestamp:return Uv(t);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Ul(t);default:return Ul(t)}},Ul=e=>e,Iv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Dv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Mv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>jf(t,a))}return e},Uv=e=>typeof e=="string"?e.replace(" ","T"):e,Sf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $o{constructor(t,r,n={},s=bf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _c;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_c||(_c={}));class Hn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Hn.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(b=>b.presence_ref),v=h.map(b=>b.presence_ref),y=d.filter(b=>v.indexOf(b.presence_ref)<0),w=h.filter(b=>f.indexOf(b.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(u[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),d.length>0){const h=t[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[a].unshift(...f)}n(a,d,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,u),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bc||(bc={}));var kc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(kc||(kc={}));var gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class Ga{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $o(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new kf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Hn(this),this.broadcastEndpointURL=Sf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(gt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(gt.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(gt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<v;w++){const b=f[w],{filter:{event:m,schema:p,table:g,filter:k}}=b,_=d&&d[w];if(_&&_.event===m&&_.schema===p&&_.table===g&&_.filter===k)y.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),t==null||t(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(gt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new $o(this,Ze.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $o(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=Ze;if(n&&[a,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,b;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=v.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,b,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const k=v.id,_=(y=v.filter)===null||y===void 0?void 0:y.event;return k&&((w=r.ids)===null||w===void 0?void 0:w.includes(k))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:b,commit_timestamp:m,type:p,errors:g}=y;f=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ga.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=wc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=wc(t.columns,t.old_record)),r}}const Fv=()=>{},Bv=typeof WebSocket<"u",Vv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ov,this.params={},this.timeout=bf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Fv,this.conn=null,this.sendBuffer=[],this.serializer=new Av,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>an(async()=>{const{default:u}=await Promise.resolve().then(()=>gn);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ml.websocket}`,this.httpEndpoint=Sf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Bv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Wv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),an(async()=>{const{default:t}=await import("./browser-D6UViMKs.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yr.connecting:return ur.Connecting;case Yr.open:return ur.Open;case Yr.closing:return ur.Closing;default:return ur.Closed}}isConnected(){return this.connectionState()===ur.Open}channel(t,r={config:{}}){const n=new Ga(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Ze.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Lv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Vv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Wv{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Yr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Ja extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qv extends Ja{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fl extends Ja{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Gv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const Cf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>an(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Jv=()=>Gv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield an(()=>Promise.resolve().then(()=>gn),void 0)).Response:Response}),Bl=e=>{if(Array.isArray(e))return e.map(r=>Bl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Bl(n)}),t};var jr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const Io=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qv=(e,t,r)=>jr(void 0,void 0,void 0,function*(){const n=yield Jv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new qv(Io(s),e.status||500))}).catch(s=>{t(new Fl(Io(s),s))}):t(new Fl(Io(e),e))}),Kv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function _s(e,t,r,n,s,i){return jr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Kv(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Qv(u,a,n))})})}function Ti(e,t,r,n){return jr(this,void 0,void 0,function*(){return _s(e,"GET",t,r,n)})}function At(e,t,r,n,s){return jr(this,void 0,void 0,function*(){return _s(e,"POST",t,n,s,r)})}function Yv(e,t,r,n,s){return jr(this,void 0,void 0,function*(){return _s(e,"PUT",t,n,s,r)})}function Xv(e,t,r,n){return jr(this,void 0,void 0,function*(){return _s(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ef(e,t,r,n,s){return jr(this,void 0,void 0,function*(){return _s(e,"DELETE",t,n,s,r)})}var je=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const Zv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ey{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Cf(s)}uploadOrUpdate(t,r,n,s){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},jc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:jc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(u){if(ue(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ja("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}update(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}copy(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return je(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}download(t,r){return je(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ti(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ti(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bl(n),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}exists(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Xv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ue(n)&&n instanceof Fl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return je(this,void 0,void 0,function*(){try{return{data:yield Ef(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}list(t,r,n){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Zv),r),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ty="2.7.1",ry={"X-Client-Info":`storage-js/${ty}`};var Pr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class ny{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ry),r),this.fetch=Cf(n)}listBuckets(){return Pr(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}getBucket(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Pr(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Pr(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield Ef(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}}class sy extends ny{constructor(t,r={},n){super(t,r,n)}from(t){return new ey(this.url,this.headers,t,this.fetch)}}const iy="2.49.1";let An="";typeof Deno<"u"?An="deno":typeof document<"u"?An="web":typeof navigator<"u"&&navigator.product==="ReactNative"?An="react-native":An="node";const oy={"X-Client-Info":`supabase-js-${An}/${iy}`},ly={headers:oy},ay={schema:"public"},uy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cy={};var dy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const hy=e=>{let t;return e?t=e:typeof fetch>"u"?t=df:t=fetch,(...r)=>t(...r)},fy=()=>typeof Headers>"u"?hf:Headers,py=(e,t,r)=>{const n=hy(r),s=fy();return(i,o)=>dy(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var my=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};function gy(e){return e.replace(/\/$/,"")}function vy(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:u,global:c}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>my(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Nf="2.68.0",Rr=30*1e3,Vl=3,zo=Vl*Rr,yy="http://localhost:9999",xy="supabase.auth.token",wy={"X-Client-Info":`gotrue-js/${Nf}`},Hl="X-Supabase-Api-Version",Pf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function _y(e){return Math.round(Date.now()/1e3)+e}function by(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const at=()=>typeof window<"u"&&typeof document<"u",ir={tested:!1,writable:!1},Wn=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ir.tested)return ir.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ir.tested=!0,ir.writable=!0}catch{ir.tested=!0,ir.writable=!1}return ir.writable};function ky(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Tf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>an(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},jy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Of=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Fs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bs=async(e,t)=>{await e.removeItem(t)};function Sy(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,u,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),n=o<<2|a>>4,s=(a&15)<<4|u>>2,i=(u&3)<<6|c,r=r+String.fromCharCode(n),u!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class ro{constructor(){this.promise=new ro.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ro.promiseConstructor=Promise;function Sc(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(Sy(n))}async function Cy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ey(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Ny(e){return("0"+e.toString(16)).substr(-2)}function Py(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Ny).join("")}async function Ty(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Oy(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ry(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ty(e);return Oy(r)}async function Tr(e,t,r=!1){const n=Py();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Of(e,`${t}-code-verifier`,s);const i=await Ry(n);return[i,n===i?"plain":"s256"]}const Ly=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ay(e){const t=e.headers.get(Hl);if(!t||!t.match(Ly))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Qa extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $y extends Qa{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Iy(e){return $(e)&&e.name==="AuthApiError"}class Rf extends Qa{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Sr extends Qa{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Tt extends Sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zy(e){return $(e)&&e.name==="AuthSessionMissingError"}class Do extends Sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vs extends Sr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hs extends Sr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dy(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class Cc extends Sr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wl extends Sr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Mo(e){return $(e)&&e.name==="AuthRetryableFetchError"}class Ec extends Sr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var My=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ar=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Uy=[502,503,504];async function Nc(e){var t;if(!jy(e))throw new Wl(ar(e),0);if(Uy.includes(e.status))throw new Wl(ar(e),e.status);let r;try{r=await e.json()}catch(i){throw new Rf(ar(i),i)}let n;const s=Ay(e);if(s&&s.getTime()>=Pf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ec(ar(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ec(ar(r),e.status,r.weak_password.reasons);throw new $y(ar(r),e.status||500,n)}const Fy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Hl]||(i[Hl]=Pf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await By(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function By(e,t,r,n,s,i){const o=Fy(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new Wl(ar(u),0)}if(a.ok||await Nc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Nc(u)}}function Ot(e){var t;let r=null;qy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_y(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Pc(e){const t=Ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Vy(e){return{data:e,error:null}}function Hy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=My(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function Wy(e){return e}function qy(e){return e.access_token&&e.refresh_token&&e.expires_in}var Gy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Jy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Tf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Gy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Hy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Wy});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}const Qy={getItem:e=>Wn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Wn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Wn()&&globalThis.localStorage.removeItem(e)}};function Tc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ky(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Or={debug:!!(globalThis&&Wn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yy extends Lf{}async function Xy(e,t,r){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ky();const Zy={url:yy,storageKey:xy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Oc(e,t,r){return await r()}class hs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hs.nextInstanceID,hs.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Zy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Jy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Tf(s.fetch),this.lock=s.lock||Oc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:at()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Xy:this.lock=Oc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Wn()?this.storage=Qy:(this.memoryStorage={},this.storage=Tc(this.memoryStorage)):(this.memoryStorage={},this.storage=Tc(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ky(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),at()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Dy(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?{error:r}:{error:new Rf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ot}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Tr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:Ot})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ot})}else throw new Vs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pc})}else throw new Vs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Do}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Fs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ot});if(await Bs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Do}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ot}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Do}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Tr(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Vs("You must provide either an email or phone number.")}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ot});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Vy})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Vs("You must provide either an email or phone number and a type")}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zt})})}catch(r){if($(r))return zy(r)&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Tt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await Tr(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:zt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Sc(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=Sc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!at())throw new Hs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!i||!a||!o||!c)throw new Hs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;u&&(f=parseInt(u));const v=f-d;v*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if($(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Fs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Iy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=by(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Tr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return at()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ey(async s=>(s>0&&await Cy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ot})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Mo(i)&&Date.now()+o-n<Rr})}catch(n){if(this._debug(r,"error",n),$(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),at()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Fs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${zo}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Mo(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ro;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),$(i)){const o={session:null,error:i};return Mo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Of(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Bs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rr}ms, refresh threshold is ${Vl} ticks`),s<=Vl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}}hs.nextInstanceID=0;const ex=hs;class tx extends ex{constructor(t){super(t)}}var rx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class nx{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=gy(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:ay,realtime:cy,auth:Object.assign(Object.assign({},uy),{storageKey:u}),global:ly},d=vy(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=py(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Pv(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new iv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sy(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return rx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tx({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Hv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sx=(e,t,r)=>new nx(e,t,r),ix="https://tppldbgypnxybwcqyoyd.supabase.co",ox="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRwcGxkYmd5cG54eWJ3Y3F5b3lkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0MjQwMjUsImV4cCI6MjA1ODAwMDAyNX0.AveYYilJOBxG-6iq6ljLoTYoQu13x2VUgJI2PvlvmN0",J=sx(ix,ox),it=Y0(e=>({user:null,setUser:t=>e({user:t}),signIn:async(t,r)=>{try{const{data:n,error:s}=await J.auth.signInWithPassword({email:t,password:r});if(s)throw s;if(!n.user)throw new Error("Aucune donnée utilisateur reçue");const{data:i,error:o}=await J.from("profiles").select("id, email, role, created_at").eq("id",n.user.id).single();if(o)throw o;if(!i)throw new Error("Profil utilisateur non trouvé");return e({user:{id:i.id,email:i.email,role:i.role,created_at:i.created_at}}),{error:null}}catch(n){return console.error("Error during sign in:",n),{error:n}}},signOut:async()=>{try{const{error:t}=await J.auth.signOut();if(t)throw t;e({user:null})}catch(t){throw console.error("Error during sign out:",t),t}}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const r=j.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>j.createElement("svg",{ref:d,...lx,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ax(e)}`,a].join(" "),...c},[...t.map(([h,f])=>j.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=B("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=B("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=B("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=B("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=B("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=B("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=B("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=B("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=B("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Uf(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Uf(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Cx(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Uf(e))&&(n&&(n+=" "),n+=t);return n}const Xa="-",Ex=e=>{const t=Px(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(Xa);return a[0]===""&&a.length!==1&&a.shift(),Ff(a,t)||Nx(o)},getConflictingClassGroupIds:(o,a)=>{const u=r[o]||[];return a&&n[o]?[...u,...n[o]]:u}}},Ff=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Ff(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Xa);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Rc=/^\[(.+)\]$/,Nx=e=>{if(Rc.test(e)){const t=Rc.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Px=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Ox(Object.entries(e.classGroups),r).forEach(([i,o])=>{ql(o,n,i,t)}),n},ql=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Lc(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Tx(s)){ql(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{ql(o,Lc(t,i),r,n)})})},Lc=(e,t)=>{let r=e;return t.split(Xa).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Tx=e=>e.isThemeGetter,Ox=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,Rx=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Bf="!",Lx=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const u=[];let c=0,d=0,h;for(let b=0;b<a.length;b++){let m=a[b];if(c===0){if(m===s&&(n||a.slice(b,b+i)===t)){u.push(a.slice(d,b)),d=b+i;continue}if(m==="/"){h=b;continue}}m==="["?c++:m==="]"&&c--}const f=u.length===0?a:a.substring(d),v=f.startsWith(Bf),y=v?f.substring(1):f,w=h&&h>d?h-d:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:w}};return r?a=>r({className:a,parseClassName:o}):o},Ax=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},$x=e=>({cache:Rx(e.cacheSize),parseClassName:Lx(e),...Ex(e)}),Ix=/\s+/,zx=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Ix);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:v}=r(c);let y=!!v,w=n(y?f.substring(0,v):f);if(!w){if(!y){a=c+(a.length>0?" "+a:a);continue}if(w=n(f),!w){a=c+(a.length>0?" "+a:a);continue}y=!1}const b=Ax(d).join(":"),m=h?b+Bf:b,p=m+w;if(i.includes(p))continue;i.push(p);const g=s(w,y);for(let k=0;k<g.length;++k){const _=g[k];i.push(m+_)}a=c+(a.length>0?" "+a:a)}return a};function Dx(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Vf(t))&&(n&&(n+=" "),n+=r);return n}const Vf=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Vf(e[n]))&&(r&&(r+=" "),r+=t);return r};function Mx(e,...t){let r,n,s,i=o;function o(u){const c=t.reduce((d,h)=>h(d),e());return r=$x(c),n=r.cache.get,s=r.cache.set,i=a,a(u)}function a(u){const c=n(u);if(c)return c;const d=zx(u,r);return s(u,d),d}return function(){return i(Dx.apply(null,arguments))}}const q=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Hf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ux=/^\d+\/\d+$/,Fx=new Set(["px","full","screen"]),Bx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pt=e=>Xr(e)||Fx.has(e)||Ux.test(e),Nt=e=>yn(e,"length",ew),Xr=e=>!!e&&!Number.isNaN(Number(e)),Uo=e=>yn(e,"number",Xr),Nn=e=>!!e&&Number.isInteger(Number(e)),Gx=e=>e.endsWith("%")&&Xr(e.slice(0,-1)),A=e=>Hf.test(e),Pt=e=>Bx.test(e),Jx=new Set(["length","size","percentage"]),Qx=e=>yn(e,Jx,Wf),Kx=e=>yn(e,"position",Wf),Yx=new Set(["image","url"]),Xx=e=>yn(e,Yx,rw),Zx=e=>yn(e,"",tw),Pn=()=>!0,yn=(e,t,r)=>{const n=Hf.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ew=e=>Vx.test(e)&&!Hx.test(e),Wf=()=>!1,tw=e=>Wx.test(e),rw=e=>qx.test(e),nw=()=>{const e=q("colors"),t=q("spacing"),r=q("blur"),n=q("brightness"),s=q("borderColor"),i=q("borderRadius"),o=q("borderSpacing"),a=q("borderWidth"),u=q("contrast"),c=q("grayscale"),d=q("hueRotate"),h=q("invert"),f=q("gap"),v=q("gradientColorStops"),y=q("gradientColorStopPositions"),w=q("inset"),b=q("margin"),m=q("opacity"),p=q("padding"),g=q("saturate"),k=q("scale"),_=q("sepia"),x=q("skew"),S=q("space"),N=q("translate"),E=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",A,t],D=()=>[A,t],Je=()=>["",pt,Nt],Qe=()=>["auto",Xr,A],Cr=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ot=()=>["solid","dashed","dotted","double","none"],Ct=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",A],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Xr,A];return{cacheSize:500,separator:":",theme:{colors:[Pn],spacing:[pt,Nt],blur:["none","",Pt,A],brightness:U(),borderColor:[e],borderRadius:["none","","full",Pt,A],borderSpacing:D(),borderWidth:Je(),contrast:U(),grayscale:R(),hueRotate:U(),invert:R(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[Gx,Nt],inset:V(),margin:V(),opacity:U(),padding:D(),saturate:U(),scale:U(),sepia:R(),skew:U(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",A]}],container:["container"],columns:[{columns:[Pt]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Cr(),A]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nn,A]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",A]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Nn,A]}],"grid-cols":[{"grid-cols":[Pn]}],"col-start-end":[{col:["auto",{span:["full",Nn,A]},A]}],"col-start":[{"col-start":Qe()}],"col-end":[{"col-end":Qe()}],"grid-rows":[{"grid-rows":[Pn]}],"row-start-end":[{row:["auto",{span:[Nn,A]},A]}],"row-start":[{"row-start":Qe()}],"row-end":[{"row-end":Qe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",A]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",A]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",A,t]}],"min-w":[{"min-w":[A,t,"min","max","fit"]}],"max-w":[{"max-w":[A,t,"none","full","min","max","fit","prose",{screen:[Pt]},Pt]}],h:[{h:[A,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[A,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[A,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[A,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pt,Nt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uo]}],"font-family":[{font:[Pn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",A]}],"line-clamp":[{"line-clamp":["none",Xr,Uo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pt,A]}],"list-image":[{"list-image":["none",A]}],"list-style-type":[{list:["none","disc","decimal",A]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ot(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pt,Nt]}],"underline-offset":[{"underline-offset":["auto",pt,A]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",A]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",A]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Cr(),Kx]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xx]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...ot(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:ot()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ot()]}],"outline-offset":[{"outline-offset":[pt,A]}],"outline-w":[{outline:[pt,Nt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[pt,Nt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pt,Zx]}],"shadow-color":[{shadow:[Pn]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...Ct(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ct()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Pt,A]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[g]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",A]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",A]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",A]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Nn,A]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",A]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",A]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",A]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pt,Nt,Uo]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sw=Mx(nw);function me(...e){return sw(Cx(e))}function se({className:e,variant:t="primary",size:r="md",isLoading:n=!1,disabled:s,children:i,...o}){const a="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return l.jsx("button",{className:me(a,u[t],c[r],n&&"opacity-50 cursor-wait",e),disabled:s||n,...o,children:n?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Chargement..."]}):i})}function iw(){const{user:e,signOut:t}=it(),r=Ge(),n=kr(),s=(e==null?void 0:e.role)==="admin",i=async()=>{await t(),r("/login")};return l.jsx("nav",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsx(Nr,{to:"/",className:"text-xl font-bold text-blue-600",children:"Plateforme LMI"}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsxs(Nr,{to:"/",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${n.pathname==="/"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:[l.jsx(vx,{size:20}),l.jsx("span",{children:"Tableau de Bord"})]}),l.jsxs(Nr,{to:"/orders",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${n.pathname.startsWith("/orders")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:[l.jsx(cn,{size:20}),l.jsx("span",{children:"Commandes"})]}),l.jsxs(Nr,{to:"/customers",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${n.pathname==="/customers"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:[l.jsx(jx,{size:20}),l.jsx("span",{children:"Clients"})]}),s&&l.jsxs(Nr,{to:"/users",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${n.pathname==="/users"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:[l.jsx(kx,{size:20}),l.jsx("span",{children:"Gestion Utilisateurs"})]}),l.jsxs(Nr,{to:"/docs",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${n.pathname==="/docs"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:[l.jsx(cx,{size:20}),l.jsx("span",{children:"Documentation"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:"text-sm text-gray-700",children:e==null?void 0:e.email}),l.jsxs(se,{variant:"ghost",size:"sm",onClick:i,className:"flex items-center",children:[l.jsx(xx,{size:20,className:"mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Déconnexion"})]})]})]})})})}function ow(){return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(iw,{}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsx(h0,{})})]})}const Be={async createOrder(e){try{const{data:t,error:r}=await J.from("orders").insert([e]).select(`
          *,
          customer:customers(*),
          profiles!orders_created_by_fkey (
            id,
            email,
            role
          )
        `).single();if(r)throw r;if(!t)throw new Error("Aucune commande créée");return{...t,creator:t.profiles}}catch(t){throw console.error("Error in createOrder:",t),t}},async getOrders(){try{const{data:e,error:t}=await J.from("orders").select(`
          *,
          customer:customers(*),
          profiles!orders_created_by_fkey (
            id,
            email,
            role
          )
        `).order("created_at",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({...r,creator:r.profiles}))}catch(e){throw console.error("Error in getOrders:",e),e}},async getOrderById(e){try{const{data:t,error:r}=await J.from("orders").select(`
          *,
          customer:customers(*),
          profiles!orders_created_by_fkey (
            id,
            email,
            role
          )
        `).eq("id",e).single();if(r)throw r;if(!t)throw new Error("Commande non trouvée");return{...t,creator:t.profiles}}catch(t){throw console.error("Error in getOrderById:",t),t}},async updateOrder(e,t){try{const{error:r}=await J.from("orders").update(t).eq("id",e);if(r)throw r;const{data:n,error:s}=await J.from("orders").select(`
          *,
          customer:customers(*),
          profiles!orders_created_by_fkey (
            id,
            email,
            role
          )
        `).eq("id",e).single();if(s)throw s;if(!n)throw new Error("Commande non trouvée après mise à jour");return{...n,creator:n.profiles}}catch(r){throw console.error("Error in updateOrder:",r),r}},async deleteOrder(e){try{const{error:t}=await J.from("orders").delete().eq("id",e);if(t)throw t}catch(t){throw console.error("Error in deleteOrder:",t),t}},async getOrderHistory(e){try{const{data:t,error:r}=await J.from("order_history").select("*").eq("order_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw console.error("Error in getOrderHistory:",t),t}},async addOrderHistory(e){try{const{data:t,error:r}=await J.from("order_history").insert([e]).select().single();if(r)throw r;if(!t)throw new Error("Aucun historique créé");return t}catch(t){throw console.error("Error in addOrderHistory:",t),t}},async getOrderByTrackingNumber(e){try{const{data:t,error:r}=await J.from("orders").select(`
          *,
          customer:customers(*),
          profiles!orders_created_by_fkey (
            id,
            email,
            role
          )
        `).eq("tracking_number",e).single();if(r)throw r;if(!t)throw new Error("Commande non trouvée");return{...t,creator:t.profiles}}catch(t){throw console.error("Error in getOrderByTrackingNumber:",t),t}}},wr={pending_price:"En attente de prix",pending_advance:"En attente d'acompte",advance_paid:"Acompte payé",in_production:"En production",ready:"Prêt",shipped:"Expédié",delivered:"Livré",cancelled:"Annulé"},fs={pending_price:"bg-gray-100 text-gray-800",pending_advance:"bg-yellow-100 text-yellow-800",advance_paid:"bg-blue-100 text-blue-800",in_production:"bg-purple-100 text-purple-800",ready:"bg-green-100 text-green-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800"};function lw(){const e="LMI",t=Date.now().toString(36).toUpperCase(),r=Math.random().toString(36).substring(2,5).toUpperCase();return`${e}${t}${r}`}function ps(e){return e==null?"---":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e)}function aw(){const{user:e}=it(),t=Ge(),r=(e==null?void 0:e.role)==="admin",[n,s]=j.useState("month"),[i,o]=j.useState(!1),[a,u]=j.useState(!0),[c,d]=j.useState(null),[h,f]=j.useState({totalOrders:0,totalProcessingTime:0,completedOrders:0,ordersByStatus:{pending_price:0,pending_advance:0,advance_paid:0,in_production:0,ready:0,shipped:0,delivered:0,cancelled:0}}),[v,y]=j.useState([]);j.useEffect(()=>{w()},[n]);const w=async()=>{try{u(!0),d(null);const g=await Be.getOrders();let k=m(g,n);!r&&e&&(k=k.filter(N=>N.created_by===e.id));const _=k.filter(N=>N.status==="delivered"),x=b(_),S={totalOrders:k.length,totalProcessingTime:x,completedOrders:_.length,ordersByStatus:{pending_price:0,pending_advance:0,advance_paid:0,in_production:0,ready:0,shipped:0,delivered:0,cancelled:0}};k.forEach(N=>{S.ordersByStatus[N.status]++}),f(S),y(k.slice(0,5))}catch(g){console.error("Error loading dashboard data:",g),d(g instanceof Error?g.message:"Une erreur est survenue")}finally{u(!1)}},b=g=>{if(g.length===0)return 0;const k=g.map(_=>{const x=new Date(_.created_at);return(new Date(_.updated_at).getTime()-x.getTime())/(1e3*60*60*24)});return k.reduce((_,x)=>_+x,0)/k.length},m=(g,k)=>{const _=new Date,x=new Date;switch(k){case"today":x.setHours(0,0,0,0);break;case"week":x.setDate(_.getDate()-7);break;case"month":x.setMonth(_.getMonth()-1);break;case"year":x.setFullYear(_.getFullYear()-1);break;case"all":return g}return g.filter(S=>new Date(S.created_at)>=x)},p={today:"Aujourd'hui",week:"7 derniers jours",month:"30 derniers jours",year:"12 derniers mois",all:"Toutes les périodes"};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Tableau de Bord Administrateur":"Mes Commandes"}),l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>o(!i),className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:[l.jsx(dx,{className:"w-4 h-4 mr-2"}),p[n],l.jsx(fx,{className:"w-4 h-4 ml-2"})]}),i&&l.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:Object.entries(p).map(([g,k])=>l.jsx("button",{onClick:()=>{s(g),o(!1)},className:`block w-full text-left px-4 py-2 text-sm ${n===g?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:k},g))})]})})]}),c&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:c}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[l.jsx(Fo,{title:"Commandes Totales",value:h.totalOrders.toString(),icon:l.jsx(cn,{className:"w-6 h-6"}),color:"blue",loading:a}),l.jsx(Fo,{title:"Commandes Terminées",value:h.completedOrders.toString(),icon:l.jsx(cn,{className:"w-6 h-6"}),color:"green",loading:a}),l.jsx(Fo,{title:"Délai Moyen de Traitement",value:`${Math.round(h.totalProcessingTime)} jours`,icon:l.jsx(Af,{className:"w-6 h-6"}),color:"purple",loading:a})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Répartition des Commandes par Statut"}),l.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Object.entries(h.ordersByStatus).map(([g,k])=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:`w-3 h-3 rounded-full mr-3 ${fs[g]}`}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:wr[g]})]}),l.jsx("span",{className:"text-lg font-semibold text-gray-900",children:k})]},g))})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[l.jsx("div",{className:"p-6",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Commandes Récentes"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"N° de Suivi"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Chargement..."})}):v.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Aucune commande trouvée"})}):v.map(g=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.tracking_number}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.customer?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"font-medium text-gray-900",children:[g.customer.first_name," ",g.customer.last_name]}),l.jsx("div",{className:"text-gray-500",children:g.customer.email})]}):"Client inconnu"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.product_name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${fs[g.status]}`,children:wr[g.status]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(g.created_at).toLocaleDateString("fr-FR")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.jsx("button",{onClick:()=>t(`/orders/${g.id}`),className:"text-blue-600 hover:text-blue-900",children:"Voir détails"})})]},g.id))})]})})]})]})}function Fo({title:e,value:t,icon:r,color:n,loading:s=!1}){const i={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",red:"bg-red-50 text-red-600",yellow:"bg-yellow-50 text-yellow-600"};return l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`p-3 rounded-full ${i[n]}`,children:r}),l.jsxs("div",{className:"ml-5",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500 truncate",children:e}),l.jsx("p",{className:"mt-1 text-xl font-semibold text-gray-900",children:s?l.jsx("span",{className:"inline-block w-16 h-6 bg-gray-200 rounded animate-pulse"}):t})]})]})})}function nt({className:e,children:t}){return l.jsx("div",{className:me("bg-white rounded-lg shadow-sm border border-gray-200",e),children:t})}nt.Header=function({className:t,children:r}){return l.jsx("div",{className:me("px-6 py-4 border-b border-gray-200",t),children:r})};nt.Body=function({className:t,children:r}){return l.jsx("div",{className:me("px-6 py-4",t),children:r})};nt.Footer=function({className:t,children:r}){return l.jsx("div",{className:me("px-6 py-4 border-t border-gray-200",t),children:r})};function Kt({className:e,label:t,error:r,icon:n,hint:s,type:i="text",...o}){const a=o.id||Ri.useId();return l.jsxs("div",{className:"form-group",children:[t&&l.jsx("label",{htmlFor:a,className:"form-label",children:t}),l.jsxs("div",{className:"relative",children:[n&&l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:n}),l.jsx("input",{id:a,type:i,className:me("form-input",n&&"pl-10",r&&"!border-red-300 !ring-red-300",e),"aria-invalid":r?"true":void 0,"aria-describedby":r?`${a}-error`:s?`${a}-hint`:void 0,...o})]}),s&&!r&&l.jsx("p",{id:`${a}-hint`,className:"form-hint",children:s}),r&&l.jsx("p",{id:`${a}-error`,className:"form-error",children:r})]})}function uw({variant:e="info",title:t,children:r,className:n}){const s={info:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:l.jsx(gx,{className:"h-5 w-5 text-blue-400"})},success:{container:"bg-green-50 border-green-200 text-green-800",icon:l.jsx(hx,{className:"h-5 w-5 text-green-400"})},warning:{container:"bg-yellow-50 border-yellow-200 text-yellow-800",icon:l.jsx(ux,{className:"h-5 w-5 text-yellow-400"})},error:{container:"bg-red-50 border-red-200 text-red-800",icon:l.jsx(Sx,{className:"h-5 w-5 text-red-400"})}};return l.jsx("div",{className:me("rounded-lg border p-4",s[e].container,n),children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:s[e].icon}),l.jsxs("div",{className:"ml-3",children:[t&&l.jsx("h3",{className:"text-sm font-medium",children:t}),l.jsx("div",{className:"text-sm mt-2",children:r})]})]})})}function cw({className:e,children:t}){return l.jsx("div",{className:me("container mx-auto px-4 sm:px-6 lg:px-8",e),children:t})}function dw(){const[e,t]=j.useState(""),[r,n]=j.useState(""),[s,i]=j.useState(null),[o,a]=j.useState(!1),u=Ge(),{signIn:c}=it(),d=async h=>{h.preventDefault(),a(!0),i(null);const{error:f}=await c(e,r);if(f){i("Email ou mot de passe invalide"),a(!1);return}u("/")};return l.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center",children:l.jsxs(cw,{className:"max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Plateforme LMI"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Connectez-vous pour accéder à votre espace"})]}),l.jsx(nt,{children:l.jsx(nt.Body,{children:l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s&&l.jsx(uw,{variant:"error",children:s}),l.jsx(Kt,{id:"email",type:"email",label:"Adresse email",value:e,onChange:h=>t(h.target.value),icon:l.jsx(wx,{className:"w-5 h-5"}),required:!0,autoComplete:"email",placeholder:"Entrez votre email"}),l.jsx(Kt,{id:"password",type:"password",label:"Mot de passe",value:r,onChange:h=>n(h.target.value),icon:l.jsx($f,{className:"w-5 h-5"}),required:!0,autoComplete:"current-password",placeholder:"Entrez votre mot de passe"}),l.jsxs(se,{type:"submit",className:"w-full",isLoading:o,children:[l.jsx(yx,{className:"w-5 h-5 mr-2"}),"Se connecter"]})]})})})]})})}function qf({title:e,description:t,actions:r,className:n}){return l.jsx("div",{className:me("mb-8",n),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),t&&l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:t})]}),r&&l.jsx("div",{className:"flex items-center space-x-4",children:r})]})})}function qn({className:e,label:t,error:r,hint:n,options:s,...i}){const o=i.id||Ri.useId();return l.jsxs("div",{className:"form-group",children:[t&&l.jsx("label",{htmlFor:o,className:"form-label",children:t}),l.jsx("select",{id:o,className:me("form-select",r&&"!border-red-300 !ring-red-300",e),"aria-invalid":r?"true":void 0,"aria-describedby":r?`${o}-error`:n?`${o}-hint`:void 0,...i,children:s.map(({value:a,label:u})=>l.jsx("option",{value:a,children:u},a))}),n&&!r&&l.jsx("p",{id:`${o}-hint`,className:"form-hint",children:n}),r&&l.jsx("p",{id:`${o}-error`,className:"form-error",children:r})]})}function hw({variant:e="default",children:t,className:r}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800"};return l.jsx("span",{className:me("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",n[e],r),children:t})}function te({className:e,children:t,...r}){return l.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:l.jsx("table",{className:me("min-w-full divide-y divide-gray-200",e),...r,children:t})})}te.Header=function({className:t,children:r}){return l.jsx("thead",{className:me("bg-gray-50",t),children:r})};te.Row=function({className:t,children:r}){return l.jsx("tr",{className:me("hover:bg-gray-50 transition-colors",t),children:r})};te.Cell=function({className:t,children:r}){return l.jsx("td",{className:me("px-6 py-4 whitespace-nowrap text-sm text-gray-500",t),children:r})};te.HeaderCell=function({className:t,children:r}){return l.jsx("th",{className:me("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",t),children:r})};function fw(){const e=Ge(),{user:t}=it(),r=(t==null?void 0:t.role)==="admin",[n,s]=j.useState([]),[i,o]=j.useState(!1),[a,u]=j.useState(null),[c,d]=j.useState(""),[h,f]=j.useState(!1),[v,y]=j.useState({status:"all",date:"all",minPrice:"",maxPrice:"",advancePaid:"all"});j.useEffect(()=>{w()},[]);const w=async()=>{try{o(!0),u(null);let _=await Be.getOrders();!r&&t&&(_=_.filter(x=>x.created_by===t.id)),s(_)}catch(_){console.error("Error loading orders:",_),u(_ instanceof Error?_.message:"Une erreur est survenue")}finally{o(!1)}},b=async _=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette commande ?"))try{o(!0),await Be.deleteOrder(_),await w()}catch(x){console.error("Error deleting order:",x),u(x instanceof Error?x.message:"Une erreur est survenue")}finally{o(!1)}},m=()=>{window.print()},p=()=>{y({status:"all",date:"all",minPrice:"",maxPrice:"",advancePaid:"all"})},k=(_=>_.filter(x=>{var V,D,Je;if(!(x.tracking_number.toLowerCase().includes(c.toLowerCase())||x.product_name.toLowerCase().includes(c.toLowerCase())||((V=x.customer)==null?void 0:V.first_name.toLowerCase().includes(c.toLowerCase()))||((D=x.customer)==null?void 0:D.last_name.toLowerCase().includes(c.toLowerCase()))||r&&((Je=x.creator)==null?void 0:Je.email.toLowerCase().includes(c.toLowerCase())))||v.status!=="all"&&x.status!==v.status)return!1;const N=new Date(x.created_at),E=new Date;let O=!0;switch(v.date){case"today":O=N.toDateString()===E.toDateString();break;case"week":const Qe=new Date(E.setDate(E.getDate()-7));O=N>=Qe;break;case"month":const Cr=new Date(E.setMonth(E.getMonth()-1));O=N>=Cr;break;case"3months":const ot=new Date(E.setMonth(E.getMonth()-3));O=N>=ot;break;case"year":const Ct=new Date(E.setFullYear(E.getFullYear()-1));O=N>=Ct;break}if(!O||v.minPrice&&x.total_price&&x.total_price<parseFloat(v.minPrice)||v.maxPrice&&x.total_price&&x.total_price>parseFloat(v.maxPrice))return!1;if(v.advancePaid!=="all"){const Qe=v.advancePaid==="yes";if(x.advance_paid!==Qe)return!1}return!0}))(n);return l.jsxs("div",{className:"space-y-6",children:[l.jsx(qf,{title:r?"Gestion des Commandes":"Mes Commandes",actions:l.jsxs(l.Fragment,{children:[l.jsxs(se,{variant:"secondary",onClick:m,children:[l.jsx(bx,{className:"w-5 h-5 mr-2"}),"Imprimer"]}),l.jsxs(se,{variant:"secondary",onClick:w,isLoading:i,children:[l.jsx(zf,{className:"w-5 h-5 mr-2"}),"Actualiser"]}),l.jsxs(se,{onClick:()=>e("/orders/new"),children:[l.jsx(If,{className:"w-5 h-5 mr-2"}),"Nouvelle Commande"]})]})}),l.jsx(nt,{children:l.jsxs(nt.Body,{children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Kt,{placeholder:"Rechercher une commande...",value:c,onChange:_=>d(_.target.value),icon:l.jsx(so,{className:"w-5 h-5"})})}),l.jsxs(se,{variant:h?"primary":"secondary",onClick:()=>f(!h),children:[l.jsx(mx,{className:"w-5 h-5 mr-2"}),"Filtres",h&&l.jsx(Mf,{className:"w-4 h-4 ml-2"})]})]}),h&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[l.jsx(qn,{label:"Statut",value:v.status,onChange:_=>y({...v,status:_.target.value}),options:[{value:"all",label:"Tous les statuts"},{value:"pending_price",label:"En attente de prix"},{value:"pending_advance",label:"En attente d'acompte"},{value:"advance_paid",label:"Acompte payé"},{value:"in_production",label:"En production"},{value:"ready",label:"Prêt"},{value:"shipped",label:"Expédié"},{value:"delivered",label:"Livré"},{value:"cancelled",label:"Annulé"}]}),l.jsx(qn,{label:"Période",value:v.date,onChange:_=>y({...v,date:_.target.value}),options:[{value:"all",label:"Toutes les périodes"},{value:"today",label:"Aujourd'hui"},{value:"week",label:"7 derniers jours"},{value:"month",label:"30 derniers jours"},{value:"3months",label:"3 derniers mois"},{value:"year",label:"12 derniers mois"}]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Kt,{type:"number",placeholder:"Min",value:v.minPrice,onChange:_=>y({...v,minPrice:_.target.value})}),l.jsx(Kt,{type:"number",placeholder:"Max",value:v.maxPrice,onChange:_=>y({...v,maxPrice:_.target.value})})]})]}),l.jsx(qn,{label:"Acompte",value:v.advancePaid,onChange:_=>y({...v,advancePaid:_.target.value}),options:[{value:"all",label:"Tous"},{value:"yes",label:"Payé"},{value:"no",label:"Non payé"}]}),l.jsx("div",{className:"md:col-span-2 lg:col-span-4 flex justify-end",children:l.jsx(se,{variant:"ghost",onClick:p,children:"Réinitialiser les filtres"})})]}),l.jsxs(te,{children:[l.jsx(te.Header,{children:l.jsxs("tr",{children:[l.jsx(te.HeaderCell,{children:"N° de Suivi"}),l.jsx(te.HeaderCell,{children:"Client"}),l.jsx(te.HeaderCell,{children:"Produit"}),l.jsx(te.HeaderCell,{children:"Statut"}),l.jsx(te.HeaderCell,{children:"Prix Total"}),r&&l.jsx(te.HeaderCell,{children:"Créateur"}),l.jsx(te.HeaderCell,{className:"print:hidden",children:"Actions"})]})}),l.jsx("tbody",{children:i&&!n.length?l.jsx("tr",{children:l.jsx("td",{colSpan:r?7:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Chargement des commandes..."})}):k.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:r?7:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Aucune commande trouvée"})}):k.map(_=>{var x;return l.jsxs(te.Row,{children:[l.jsx(te.Cell,{className:"font-medium text-gray-900",children:_.tracking_number}),l.jsx(te.Cell,{children:_.customer?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"font-medium text-gray-900",children:[_.customer.first_name," ",_.customer.last_name]}),l.jsx("div",{className:"text-gray-500",children:_.customer.email})]}):"Client inconnu"}),l.jsxs(te.Cell,{children:[l.jsx("div",{children:_.product_name}),l.jsxs("div",{className:"text-gray-500 text-xs",children:["Quantité: ",_.quantity]})]}),l.jsx(te.Cell,{children:l.jsx(hw,{variant:_.status==="delivered"?"success":_.status==="cancelled"?"danger":_.status==="pending_price"?"warning":"primary",children:wr[_.status]})}),l.jsxs(te.Cell,{children:[l.jsx("div",{className:"font-medium",children:ps(_.total_price)}),_.advance_percentage&&l.jsxs("div",{className:"text-gray-500 text-xs",children:["Acompte: ",_.advance_percentage,"%",_.advance_paid&&" (Payé)"]})]}),r&&l.jsx(te.Cell,{children:((x=_.creator)==null?void 0:x.email)||"Inconnu"}),l.jsx(te.Cell,{className:"print:hidden",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(se,{variant:"ghost",size:"sm",onClick:()=>e(`/orders/${_.id}`),className:"text-blue-600 hover:text-blue-900",children:l.jsx(px,{className:"w-5 h-5"})}),l.jsx(se,{variant:"ghost",size:"sm",onClick:()=>e(`/orders/${_.id}/edit`),className:"text-green-600 hover:text-green-900",children:l.jsx(Ka,{className:"w-5 h-5"})}),r&&l.jsx(se,{variant:"ghost",size:"sm",onClick:()=>b(_.id),className:"text-red-600 hover:text-red-900",children:l.jsx(Ya,{className:"w-5 h-5"})})]})})]},_.id)})})]})]})})]})}function pw(){const e=Ge(),{user:t}=it(),[r,n]=j.useState([]),[s,i]=j.useState(!1),[o,a]=j.useState(null),[u,c]=j.useState(""),[d,h]=j.useState(!1),[f,v]=j.useState(null),[y,w]=j.useState({first_name:"",last_name:"",email:"",phone:"",address:""}),[b,m]=j.useState({product_name:"",quantity:1,technical_details:"",comments:""});j.useEffect(()=>{p()},[]);const p=async()=>{try{i(!0),a(null);const{data:x,error:S}=await J.from("customers").select("*").order("created_at",{ascending:!1});if(S)throw S;n(x||[])}catch(x){console.error("Error loading customers:",x),a(x instanceof Error?x.message:"Une erreur est survenue")}finally{i(!1)}},g=async x=>{if(x.preventDefault(),!!t)try{i(!0),a(null);const{data:S,error:N}=await J.from("customers").insert([{...y,created_by:t.id}]).select().single();if(N)throw N;n([S,...r]),v(S),h(!1),w({first_name:"",last_name:"",email:"",phone:"",address:""})}catch(S){console.error("Error adding customer:",S),a(S instanceof Error?S.message:"Une erreur est survenue")}finally{i(!1)}},k=async x=>{if(x.preventDefault(),!(!t||!f))try{i(!0),a(null);const S=await Be.createOrder({customer_id:f.id,tracking_number:lw(),status:"pending_price",created_by:t.id,advance_paid:!1,...b});e(`/orders/${S.id}`)}catch(S){console.error("Error creating order:",S),a(S instanceof Error?S.message:"Une erreur est survenue")}finally{i(!1)}},_=r.filter(x=>{var S,N;return x.first_name.toLowerCase().includes(u.toLowerCase())||x.last_name.toLowerCase().includes(u.toLowerCase())||((S=x.email)==null?void 0:S.toLowerCase().includes(u.toLowerCase()))||((N=x.phone)==null?void 0:N.toLowerCase().includes(u.toLowerCase()))});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>e("/orders"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(no,{className:"w-5 h-5 mr-2"}),"Retour aux commandes"]}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nouvelle Commande"})]}),o&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:o}),l.jsxs("div",{className:"bg-white shadow rounded-lg divide-y divide-gray-200",children:[l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"1. Sélectionner un Client"}),d?l.jsxs("form",{onSubmit:g,className:"space-y-4 max-w-lg",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"Prénom"}),l.jsx("input",{type:"text",id:"first_name",value:y.first_name,onChange:x=>w({...y,first_name:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Nom"}),l.jsx("input",{type:"text",id:"last_name",value:y.last_name,onChange:x=>w({...y,last_name:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:y.email,onChange:x=>w({...y,email:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Téléphone"}),l.jsx("input",{type:"tel",id:"phone",value:y.phone,onChange:x=>w({...y,phone:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Adresse"}),l.jsx("textarea",{id:"address",value:y.address,onChange:x=>w({...y,address:x.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",disabled:s,children:"Annuler"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:s,children:s?"Création...":"Créer le client"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"relative flex-1 max-w-lg",children:[l.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Rechercher un client...",value:u,onChange:x=>c(x.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ml-4",children:[l.jsx(If,{className:"w-5 h-5 mr-2"}),"Nouveau Client"]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s&&!r.length?l.jsx("div",{className:"col-span-full text-center text-gray-500",children:"Chargement des clients..."}):_.length===0?l.jsx("div",{className:"col-span-full text-center text-gray-500",children:"Aucun client trouvé"}):_.map(x=>l.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${(f==null?void 0:f.id)===x.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-200"}`,onClick:()=>v(x),children:[l.jsxs("h3",{className:"font-medium text-gray-900",children:[x.first_name," ",x.last_name]}),x.email&&l.jsx("p",{className:"text-sm text-gray-500",children:x.email}),x.phone&&l.jsx("p",{className:"text-sm text-gray-500",children:x.phone}),x.address&&l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x.address})]},x.id))})]})]}),f&&l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"2. Détails de la Commande"}),l.jsxs("form",{onSubmit:k,className:"space-y-4 max-w-lg",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"product_name",className:"block text-sm font-medium text-gray-700",children:"Nom du Produit"}),l.jsx("input",{type:"text",id:"product_name",value:b.product_name,onChange:x=>m({...b,product_name:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantité"}),l.jsx("input",{type:"number",id:"quantity",min:"1",value:b.quantity,onChange:x=>m({...b,quantity:parseInt(x.target.value,10)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"technical_details",className:"block text-sm font-medium text-gray-700",children:"Détails Techniques"}),l.jsx("textarea",{id:"technical_details",value:b.technical_details,onChange:x=>m({...b,technical_details:x.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700",children:"Commentaires"}),l.jsx("textarea",{id:"comments",value:b.comments,onChange:x=>m({...b,comments:x.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>e("/orders"),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",disabled:s,children:"Annuler"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:s,children:s?"Création...":"Créer la commande"})]})]})]})]})]})}function mw(){const{id:e}=tf(),t=Ge(),{user:r}=it();r==null||r.role;const[n,s]=j.useState(null),[i,o]=j.useState([]),[a,u]=j.useState(!0),[c,d]=j.useState(null),[h,f]=j.useState(!1),[v,y]=j.useState("pending_price"),[w,b]=j.useState(""),[m,p]=j.useState(!1);j.useEffect(()=>{e&&g()},[e]);const g=async()=>{if(e)try{u(!0),d(null);const[_,x]=await Promise.all([Be.getOrderById(e),Be.getOrderHistory(e)]);s(_),o(x),y(_.status)}catch(_){console.error("Error loading order details:",_),d(_ instanceof Error?_.message:"Une erreur est survenue")}finally{u(!1)}},k=async _=>{if(_.preventDefault(),!(!n||!r))try{p(!0),d(null);const x=await Be.updateOrder(n.id,{status:v});await Be.addOrderHistory({order_id:n.id,status:v,comment:w,created_by:r.id}),s(x),await g(),f(!1),b("")}catch(x){console.error("Error updating order status:",x),d(x instanceof Error?x.message:"Une erreur est survenue")}finally{p(!1)}};return a?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500",children:"Chargement..."})}):c||!n?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-red-600",children:c||"Commande non trouvée"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>t("/orders"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(no,{className:"w-5 h-5 mr-2"}),"Retour aux commandes"]}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Commande #",n.tracking_number]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(Af,{className:"w-5 h-5 mr-2"}),"Mettre à jour le statut"]}),l.jsxs("button",{onClick:()=>t(`/orders/${n.id}/edit`),className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[l.jsx(Ka,{className:"w-5 h-5 mr-2"}),"Modifier"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Détails de la Commande"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Statut"}),l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${fs[n.status]}`,children:wr[n.status]})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Produit"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900",children:n.product_name})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Quantité"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900",children:n.quantity})]}),n.technical_details&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Détails Techniques"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:n.technical_details})]}),n.comments&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Commentaires"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:n.comments})]})]})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informations de Paiement"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Prix Total"}),l.jsx("div",{className:"mt-1 text-lg font-semibold text-gray-900",children:ps(n.total_price)})]}),n.advance_percentage&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-500",children:["Acompte (",n.advance_percentage,"%)"]}),l.jsx("div",{className:"mt-1 text-lg font-semibold text-gray-900",children:ps((n.total_price||0)*(n.advance_percentage/100))})]})]})]}),n.customer&&l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informations Client"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Nom"}),l.jsxs("div",{className:"mt-1 text-sm text-gray-900",children:[n.customer.first_name," ",n.customer.last_name]})]}),n.customer.email&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Email"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900",children:n.customer.email})]}),n.customer.phone&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Téléphone"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900",children:n.customer.phone})]}),n.customer.address&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Adresse"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:n.customer.address})]})]})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Historique des Statuts"}),l.jsx("div",{className:"space-y-4",children:i.map(_=>l.jsxs("div",{className:"flex items-start space-x-3 border-l-2 border-gray-200 pl-4 pb-4",children:[l.jsx(cn,{className:"w-5 h-5 text-gray-400 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${fs[_.status]}`,children:wr[_.status]}),l.jsx("span",{className:"text-sm text-gray-500",children:new Date(_.created_at).toLocaleString("fr-FR")})]}),_.comment&&l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:_.comment})]})]},_.id))})]})]}),h&&l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Mettre à jour le Statut"}),c&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-md",children:c}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Nouveau Statut"}),l.jsxs("select",{id:"status",value:v,onChange:_=>y(_.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"pending_price",children:"En attente de prix"}),l.jsx("option",{value:"pending_advance",children:"En attente d'acompte"}),l.jsx("option",{value:"advance_paid",children:"Acompte payé"}),l.jsx("option",{value:"in_production",children:"En production"}),l.jsx("option",{value:"ready",children:"Prêt"}),l.jsx("option",{value:"shipped",children:"Expédié"}),l.jsx("option",{value:"delivered",children:"Livré"}),l.jsx("option",{value:"cancelled",children:"Annulé"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Commentaire (optionnel)"}),l.jsx("textarea",{id:"comment",value:w,onChange:_=>b(_.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>{f(!1),b("")},className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",disabled:m,children:"Annuler"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:m,children:m?"Mise à jour...":"Mettre à jour"})]})]})]})})]})}function gw(){const{id:e}=tf(),t=Ge(),{user:r}=it(),n=(r==null?void 0:r.role)==="admin",[s,i]=j.useState(null),[o,a]=j.useState(!0),[u,c]=j.useState(!1),[d,h]=j.useState(null),[f,v]=j.useState({product_name:"",quantity:1,technical_details:"",comments:"",total_price:"",advance_percentage:"",advance_paid:!1});j.useEffect(()=>{e&&y()},[e]);const y=async()=>{var b,m;if(e)try{a(!0),h(null);const p=await Be.getOrderById(e);i(p),v({product_name:p.product_name,quantity:p.quantity,technical_details:p.technical_details||"",comments:p.comments||"",total_price:((b=p.total_price)==null?void 0:b.toString())||"",advance_percentage:((m=p.advance_percentage)==null?void 0:m.toString())||"",advance_paid:p.advance_paid})}catch(p){console.error("Error loading order:",p),h(p instanceof Error?p.message:"Une erreur est survenue")}finally{a(!1)}},w=async b=>{if(b.preventDefault(),!(!s||!r))try{c(!0),h(null);const m={product_name:f.product_name,quantity:parseInt(f.quantity.toString(),10),technical_details:f.technical_details||null,comments:f.comments||null};n&&(m.total_price=f.total_price?parseFloat(f.total_price):null,m.advance_percentage=f.advance_percentage?parseInt(f.advance_percentage,10):null,m.advance_paid=f.advance_paid);const p=await Be.updateOrder(s.id,m);n&&f.total_price&&(!s.total_price||s.total_price.toString()!==f.total_price)&&await Be.addOrderHistory({order_id:s.id,status:s.status,comment:`Prix mis à jour : ${ps(parseFloat(f.total_price))}`,created_by:r.id}),t(`/orders/${p.id}`)}catch(m){console.error("Error updating order:",m),h(m instanceof Error?m.message:"Une erreur est survenue")}finally{c(!1)}};return o?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500",children:"Chargement..."})}):d||!s?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-red-600",children:d||"Commande non trouvée"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>t(`/orders/${s.id}`),className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(no,{className:"w-5 h-5 mr-2"}),"Retour aux détails"]}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Modifier la Commande #",s.tracking_number]})]}),l.jsx("div",{className:"bg-white shadow rounded-lg",children:l.jsxs("form",{onSubmit:w,className:"space-y-6 p-6",children:[d&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-600 rounded-md",children:d}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"product_name",className:"block text-sm font-medium text-gray-700",children:"Nom du Produit"}),l.jsx("input",{type:"text",id:"product_name",value:f.product_name,onChange:b=>v({...f,product_name:b.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantité"}),l.jsx("input",{type:"number",id:"quantity",min:"1",value:f.quantity,onChange:b=>v({...f,quantity:parseInt(b.target.value,10)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("label",{htmlFor:"technical_details",className:"block text-sm font-medium text-gray-700",children:"Détails Techniques"}),l.jsx("textarea",{id:"technical_details",rows:3,value:f.technical_details,onChange:b=>v({...f,technical_details:b.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700",children:"Commentaires"}),l.jsx("textarea",{id:"comments",rows:3,value:f.comments,onChange:b=>v({...f,comments:b.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsx("div",{className:`lg:col-span-2 ${n?"":"opacity-50"}`,children:l.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Informations de Paiement"}),!n&&l.jsxs("div",{className:"ml-2 flex items-center text-sm text-gray-500",children:[l.jsx($f,{className:"w-4 h-4 mr-1"}),"Réservé aux administrateurs"]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"total_price",className:"block text-sm font-medium text-gray-700",children:"Prix Total (€)"}),l.jsx("input",{type:"number",id:"total_price",min:"0",step:"0.01",value:f.total_price,onChange:b=>v({...f,total_price:b.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!n})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"advance_percentage",className:"block text-sm font-medium text-gray-700",children:"Pourcentage d'Acompte"}),l.jsx("input",{type:"number",id:"advance_percentage",min:"0",max:"100",value:f.advance_percentage,onChange:b=>v({...f,advance_percentage:b.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!n})]}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"advance_paid",checked:f.advance_paid,onChange:b=>v({...f,advance_paid:b.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:!n}),l.jsx("label",{htmlFor:"advance_paid",className:"ml-2 block text-sm text-gray-900",children:"Acompte payé"})]})})]})]})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>t(`/orders/${s.id}`),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",disabled:u,children:"Annuler"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:u,children:u?"Enregistrement...":"Enregistrer les modifications"})]})]})})]})}function vw(){const e=Ge(),{user:t}=it(),[r,n]=j.useState([]),[s,i]=j.useState(!1),[o,a]=j.useState(!1),[u,c]=j.useState(!1),[d,h]=j.useState(null),[f,v]=j.useState(""),[y,w]=j.useState(!1),[b,m]=j.useState(null),[p,g]=j.useState({first_name:"",last_name:"",email:"",phone:"",address:""});j.useEffect(()=>{k()},[]);const k=async()=>{try{w(!0);const{data:E,error:O}=await J.from("customers").select("*").order("created_at",{ascending:!1});if(O)throw O;n(E||[])}catch(E){console.error("Error loading customers:",E),m("Erreur lors du chargement des clients")}finally{w(!1)}},_=async E=>{if(E.preventDefault(),!!t)try{w(!0),m(null);const{data:O,error:V}=await J.from("customers").insert([{...p,created_by:t.id}]).select().single();if(V)throw V;n([O,...r]),i(!1),g({first_name:"",last_name:"",email:"",phone:"",address:""})}catch(O){console.error("Error adding customer:",O),m("Erreur lors de l'ajout du client")}finally{w(!1)}},x=async E=>{if(E.preventDefault(),!(!t||!d))try{w(!0),m(null);const{error:O}=await J.from("customers").update({first_name:d.first_name,last_name:d.last_name,email:d.email,phone:d.phone,address:d.address}).eq("id",d.id);if(O)throw O;n(r.map(V=>V.id===d.id?d:V)),a(!1),h(null)}catch(O){console.error("Error updating customer:",O),m("Erreur lors de la modification du client")}finally{w(!1)}},S=async()=>{if(d)try{w(!0),m(null);const{error:E}=await J.from("customers").delete().eq("id",d.id);if(E)throw E;n(r.filter(O=>O.id!==d.id)),c(!1),h(null)}catch(E){console.error("Error deleting customer:",E),m("Erreur lors de la suppression du client")}finally{w(!1)}},N=r.filter(E=>{var O,V;return E.first_name.toLowerCase().includes(f.toLowerCase())||E.last_name.toLowerCase().includes(f.toLowerCase())||((O=E.email)==null?void 0:O.toLowerCase().includes(f.toLowerCase()))||((V=E.phone)==null?void 0:V.toLowerCase().includes(f.toLowerCase()))});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Clients"}),l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(Df,{className:"w-5 h-5 mr-2"}),"Nouveau Client"]})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"relative",children:[l.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Rechercher un client...",value:f,onChange:E=>v(E.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Adresse"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date d'ajout"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y&&!r.length?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Chargement..."})}):N.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Aucun client trouvé"})}):N.map(E=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[E.first_name," ",E.last_name]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm text-gray-900",children:E.email}),l.jsx("div",{className:"text-sm text-gray-500",children:E.phone})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:E.address})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString("fr-FR")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>e(`/orders/new?customer=${E.id}`),className:"text-green-600 hover:text-green-900",title:"Créer une commande",children:l.jsx(cn,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>{h(E),a(!0)},className:"text-blue-600 hover:text-blue-900",title:"Modifier le client",children:l.jsx(Ka,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>{h(E),c(!0)},className:"text-red-600 hover:text-red-900",title:"Supprimer le client",children:l.jsx(Ya,{className:"w-5 h-5"})})]})})]},E.id))})]})})]}),s&&l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Ajouter un Client"}),b&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-md",children:b}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"Prénom"}),l.jsx("input",{type:"text",id:"first_name",value:p.first_name,onChange:E=>g({...p,first_name:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Nom"}),l.jsx("input",{type:"text",id:"last_name",value:p.last_name,onChange:E=>g({...p,last_name:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:p.email,onChange:E=>g({...p,email:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Téléphone"}),l.jsx("input",{type:"tel",id:"phone",value:p.phone,onChange:E=>g({...p,phone:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Adresse"}),l.jsx("textarea",{id:"address",value:p.address,onChange:E=>g({...p,address:E.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",disabled:y,children:"Annuler"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:y,children:y?"Création...":"Créer le client"})]})]})]})}),o&&d&&l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Modifier le Client"}),b&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-md",children:b}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"edit_first_name",className:"block text-sm font-medium text-gray-700",children:"Prénom"}),l.jsx("input",{type:"text",id:"edit_first_name",value:d.first_name,onChange:E=>h({...d,first_name:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"edit_last_name",className:"block text-sm font-medium text-gray-700",children:"Nom"}),l.jsx("input",{type:"text",id:"edit_last_name",value:d.last_name,onChange:E=>h({...d,last_name:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"edit_email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{type:"email",id:"edit_email",value:d.email||"",onChange:E=>h({...d,email:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"edit_phone",className:"block text-sm font-medium text-gray-700",children:"Téléphone"}),l.jsx("input",{type:"tel",id:"edit_phone",value:d.phone||"",onChange:E=>h({...d,phone:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"edit_address",className:"block text-sm font-medium text-gray-700",children:"Adresse"}),l.jsx("textarea",{id:"edit_address",value:d.address||"",onChange:E=>h({...d,address:E.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>{a(!1),h(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",disabled:y,children:"Annuler"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:y,children:y?"Modification...":"Modifier le client"})]})]})]})}),u&&d&&l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Confirmer la suppression"}),l.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Êtes-vous sûr de vouloir supprimer le client ",d.first_name," ",d.last_name," ? Cette action est irréversible."]}),b&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-md",children:b}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>{c(!1),h(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",disabled:y,children:"Annuler"}),l.jsx("button",{onClick:S,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",disabled:y,children:y?"Suppression...":"Supprimer"})]})]})})]})}function Bo({isOpen:e,onClose:t,title:r,children:n,className:s}){return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),l.jsxs("div",{className:me("relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",s),children:[l.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:l.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:t,children:[l.jsx("span",{className:"sr-only",children:"Fermer"}),l.jsx(Mf,{className:"h-6 w-6"})]})}),l.jsxs("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:r}),n]})]})]})}):null}const Ws={async getAllProfiles(){try{const{data:e,error:t}=await J.from("profiles").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){throw console.error("Error in getAllProfiles:",e),e}},async createUser(e){try{const{data:t,error:r}=await J.auth.signUp({email:e.email,password:e.password});if(r)throw r;if(!t.user)throw new Error("Aucun utilisateur créé");const{data:n,error:s}=await J.from("profiles").insert([{id:t.user.id,email:e.email,role:e.role}]).select().single();if(s)throw s;if(!n)throw new Error("Profil non créé");return n}catch(t){throw console.error("Error in createUser:",t),t}},async updateProfile(e,t){try{const{data:r,error:n}=await J.from("profiles").update(t).eq("id",e).select().single();if(n)throw n;if(!r)throw new Error("Utilisateur non trouvé");return r}catch(r){throw console.error("Error in updateProfile:",r),r}},async deleteProfile(e){try{const{error:t}=await J.from("profiles").delete().eq("id",e);if(t)throw t}catch(t){throw console.error("Error in deleteProfile:",t),t}}};function yw(){const{user:e}=it(),t=Ge(),[r,n]=j.useState([]),[s,i]=j.useState(!1),[o,a]=j.useState(!1),[u,c]=j.useState(!1),[d,h]=j.useState(null),[f,v]=j.useState({email:"",password:"",role:"employee"}),[y,w]=j.useState(null),[b,m]=j.useState(!0);j.useEffect(()=>{if(!e||e.role!=="admin"){t("/",{replace:!0});return}p()},[e,t]);const p=async()=>{try{m(!0),w(null);const x=await Ws.getAllProfiles();n(x)}catch(x){console.error("Error loading profiles:",x),w(x instanceof Error?x.message:"Une erreur est survenue lors du chargement des utilisateurs")}finally{m(!1)}},g=async x=>{x.preventDefault();try{m(!0),w(null),await Ws.createUser({email:f.email,password:f.password,role:f.role}),v({email:"",password:"",role:"employee"}),i(!1),await p()}catch(S){console.error("Error adding user:",S),w(S instanceof Error?S.message:"Une erreur est survenue lors de la création de l'utilisateur")}finally{m(!1)}},k=async x=>{if(x.preventDefault(),!!d)try{m(!0),w(null),await Ws.updateProfile(d.id,{email:d.email,role:d.role}),await p(),a(!1),h(null)}catch(S){console.error("Error updating user:",S),w(S instanceof Error?S.message:"Une erreur est survenue lors de la modification de l'utilisateur")}finally{m(!1)}},_=async()=>{if(d)try{m(!0),w(null),await Ws.deleteProfile(d.id),await p(),c(!1),h(null)}catch(x){console.error("Error deleting user:",x),w(x instanceof Error?x.message:"Une erreur est survenue lors de la suppression de l'utilisateur")}finally{m(!1)}};return!e||e.role!=="admin"?null:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs(se,{variant:"secondary",onClick:p,isLoading:b,children:[l.jsx(zf,{className:"w-5 h-5 mr-2"}),"Actualiser"]}),l.jsxs(se,{onClick:()=>i(!0),children:[l.jsx(Df,{className:"w-5 h-5 mr-2"}),"Ajouter un Utilisateur"]})]})]}),y&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:y}),l.jsx(nt,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rôle"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de Création"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Chargement des utilisateurs..."})}):r.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Aucun utilisateur trouvé"})}):r.map(x=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.email}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:x.role==="admin"?"Administrateur":"Employé"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.created_at).toLocaleDateString("fr-FR")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{h(x),a(!0)},className:"text-blue-600 hover:text-blue-900",children:l.jsx(_x,{className:"w-5 h-5"})}),l.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{h(x),c(!0)},className:"text-red-600 hover:text-red-900",children:l.jsx(Ya,{className:"w-5 h-5"})})]})})]},x.id))})]})})}),l.jsx(Bo,{isOpen:s,onClose:()=>i(!1),title:"Ajouter un Utilisateur",children:l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsx(Kt,{type:"email",label:"Email",value:f.email,onChange:x=>v({...f,email:x.target.value}),required:!0}),l.jsx(Kt,{type:"password",label:"Mot de passe",value:f.password,onChange:x=>v({...f,password:x.target.value}),required:!0,minLength:6}),l.jsx(qn,{label:"Rôle",value:f.role,onChange:x=>v({...f,role:x.target.value}),options:[{value:"employee",label:"Employé"},{value:"admin",label:"Administrateur"}]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx(se,{type:"button",variant:"ghost",onClick:()=>i(!1),disabled:b,children:"Annuler"}),l.jsx(se,{type:"submit",isLoading:b,children:"Créer l'utilisateur"})]})]})}),l.jsx(Bo,{isOpen:o,onClose:()=>{a(!1),h(null)},title:"Modifier l'Utilisateur",children:d&&l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsx(Kt,{type:"email",label:"Email",value:d.email,onChange:x=>h({...d,email:x.target.value}),required:!0}),l.jsx(qn,{label:"Rôle",value:d.role,onChange:x=>h({...d,role:x.target.value}),options:[{value:"employee",label:"Employé"},{value:"admin",label:"Administrateur"}]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx(se,{type:"button",variant:"ghost",onClick:()=>{a(!1),h(null)},disabled:b,children:"Annuler"}),l.jsx(se,{type:"submit",isLoading:b,children:"Modifier l'utilisateur"})]})]})}),l.jsx(Bo,{isOpen:u,onClose:()=>{c(!1),h(null)},title:"Confirmer la suppression",children:d&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Êtes-vous sûr de vouloir supprimer l'utilisateur ",d.email," ? Cette action est irréversible."]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(se,{variant:"ghost",onClick:()=>{c(!1),h(null)},disabled:b,children:"Annuler"}),l.jsx(se,{variant:"danger",onClick:_,isLoading:b,children:"Supprimer"})]})]})})]})}function xw(){const e=[{title:"Tableau de Bord",content:[{title:"Vue d'ensemble",steps:["Le tableau de bord affiche un aperçu de toutes vos commandes en cours","En haut, vous trouverez des statistiques clés : nombre total de commandes, commandes terminées, et délai moyen de traitement","Le graphique central montre la répartition des commandes par statut","En bas, la liste des commandes récentes permet un accès rapide aux dernières commandes"]},{title:"Filtrage par période",steps:["Cliquez sur le sélecteur de période en haut à droite","Choisissez parmi : aujourd'hui, 7 derniers jours, 30 derniers jours, etc.","Les statistiques et la liste des commandes se mettent à jour automatiquement"]}]},{title:"Gestion des Commandes",content:[{title:"Créer une nouvelle commande",steps:["1. Cliquez sur le bouton 'Nouvelle Commande' en haut de la page Commandes","2. Sélectionnez un client existant ou créez-en un nouveau :","   - Pour un client existant : utilisez la barre de recherche ou parcourez la liste","   - Pour un nouveau client : cliquez sur 'Nouveau Client' et remplissez le formulaire","3. Une fois le client sélectionné, remplissez les détails de la commande :","   - Nom du produit","   - Quantité","   - Détails techniques (optionnel)","   - Commentaires (optionnel)","4. Cliquez sur 'Créer la commande' pour finaliser"]},{title:"Modifier une commande",steps:["1. Trouvez la commande dans la liste des commandes","2. Cliquez sur l'icône de modification (crayon)","3. Modifiez les champs souhaités","4. Pour les administrateurs uniquement :","   - Modification du prix total","   - Gestion de l'acompte","5. Enregistrez les modifications"]},{title:"Mettre à jour le statut",steps:["1. Ouvrez les détails de la commande","2. Cliquez sur 'Mettre à jour le statut'","3. Sélectionnez le nouveau statut dans la liste","4. Ajoutez un commentaire si nécessaire","5. Confirmez la mise à jour"]},{title:"Filtrer et rechercher",steps:["Utilisez la barre de recherche pour trouver une commande par numéro, client ou produit","Cliquez sur 'Filtres' pour des options avancées :","- Filtrage par statut","- Filtrage par date","- Filtrage par prix","- Filtrage par statut de l'acompte"]}]},{title:"Gestion des Clients",content:[{title:"Ajouter un nouveau client",steps:["1. Accédez à la page Clients","2. Cliquez sur 'Nouveau Client'","3. Remplissez les informations requises :","   - Prénom et nom","   - Email (optionnel)","   - Téléphone (optionnel)","   - Adresse (optionnel)","4. Cliquez sur 'Créer le client'"]},{title:"Modifier un client",steps:["1. Trouvez le client dans la liste","2. Cliquez sur l'icône de modification","3. Mettez à jour les informations","4. Enregistrez les modifications"]},{title:"Créer une commande pour un client",steps:["1. Trouvez le client dans la liste","2. Cliquez sur l'icône de commande (paquet)","3. Vous serez redirigé vers le formulaire de nouvelle commande avec le client pré-sélectionné"]}]},{title:"Suivi des Commandes",content:[{title:"Suivre une commande (client)",steps:["1. Accédez à la page de suivi via le lien public","2. Entrez le numéro de suivi de la commande","3. Visualisez :","   - Le statut actuel avec timeline","   - Les détails de la commande","   - Les informations de paiement","   - Les coordonnées du client"]}]},{title:"Gestion des Utilisateurs (Admin)",content:[{title:"Créer un nouvel utilisateur",steps:["1. Accédez à la page Gestion Utilisateurs","2. Cliquez sur 'Ajouter un Utilisateur'","3. Remplissez les informations :","   - Email","   - Mot de passe","   - Rôle (admin ou employé)","4. Cliquez sur 'Créer l'utilisateur'"]},{title:"Gérer les utilisateurs",steps:["Modifier un utilisateur :","1. Cliquez sur l'icône de modification","2. Mettez à jour le rôle ou l'email","3. Enregistrez les modifications","","Supprimer un utilisateur :","1. Cliquez sur l'icône de suppression","2. Confirmez la suppression"]}]},{title:"Cycle de vie d'une commande",content:[{title:"Les différents statuts",steps:["1. En attente de prix :","   - Statut initial après création","   - L'administrateur doit définir le prix total","","2. En attente d'acompte :","   - Le prix a été fixé","   - En attente du paiement de l'acompte par le client","","3. Acompte payé :","   - L'acompte a été reçu","   - La commande peut entrer en production","","4. En production :","   - La commande est en cours de traitement","   - Suivi possible de l'avancement","","5. Prêt :","   - La commande est terminée","   - En attente d'expédition","","6. Expédié :","   - La commande a quitté nos locaux","   - En transit vers le client","","7. Livré :","   - La commande a été reçue par le client","   - Transaction terminée","","8. Annulé :","   - La commande a été annulée","   - Aucune autre action possible"]}]}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx(qf,{title:"Documentation",description:"Guide complet des fonctionnalités de la plateforme"}),l.jsx("div",{className:"space-y-8",children:e.map((t,r)=>l.jsxs(nt,{children:[l.jsx(nt.Header,{children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.title})}),l.jsx(nt.Body,{children:l.jsx("div",{className:"space-y-8",children:t.content.map((n,s)=>l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n.title}),l.jsx("div",{className:"pl-4 space-y-2",children:n.steps.map((i,o)=>l.jsx("div",{className:"text-gray-600",children:i.startsWith("- ")?l.jsx("div",{className:"pl-4",children:i}):i===""?l.jsx("div",{className:"py-2"}):l.jsx("div",{children:i})},o))})]},s))})})]},r))})]})}function ww(){const[e,t]=j.useState(""),[r,n]=j.useState(null),[s,i]=j.useState(!1),[o,a]=j.useState(null),[u,c]=j.useState(!1),d=async v=>{if(v.preventDefault(),!!e.trim())try{i(!0),a(null);const y=await Be.getOrderByTrackingNumber(e);n(y),c(!0)}catch(y){console.error("Error tracking order:",y),a("Commande non trouvée. Veuillez vérifier le numéro de suivi."),n(null)}finally{i(!1)}},h=()=>{t(""),n(null),a(null),c(!1)},f=()=>{const v=["pending_price","pending_advance","advance_paid","in_production","ready","shipped","delivered"],y=v.indexOf((r==null?void 0:r.status)||"pending_price");return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:l.jsx("div",{className:"w-full border-t border-gray-200"})}),l.jsx("div",{className:"relative flex justify-between",children:v.map((w,b)=>{const m=b<=y,p=b===y;return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${m?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"} ${p?"ring-4 ring-blue-100":""}`,children:l.jsx(cn,{className:`h-6 w-6 ${m?"text-white":"text-gray-400"}`})}),l.jsx("div",{className:"mt-2 text-center",children:l.jsx("div",{className:`text-xs font-medium ${m?"text-blue-600":"text-gray-400"}`,children:wr[w]})})]},w)})})]})};return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:u?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:h,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(no,{className:"w-5 h-5 mr-2"}),"Nouvelle recherche"]}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Commande #",r==null?void 0:r.tracking_number]})]}),o?l.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[l.jsx("div",{className:"text-red-600 mb-4",children:o}),l.jsx("button",{onClick:h,className:"text-blue-600 hover:text-blue-800",children:"Essayer un autre numéro"})]}):r?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Statut de la Commande"}),f()]}),l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Détails de la Commande"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Produit"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900",children:r.product_name})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Quantité"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900",children:r.quantity})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Date de création"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900",children:new Date(r.created_at).toLocaleDateString("fr-FR")})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Statut"}),l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${fs[r.status]}`,children:wr[r.status]})})]}),r.total_price&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Prix Total"}),l.jsx("div",{className:"mt-1 text-sm font-semibold text-gray-900",children:ps(r.total_price)})]}),r.advance_percentage&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-500",children:["Acompte (",r.advance_percentage,"%)"]}),l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r.advance_paid?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:r.advance_paid?"Payé":"En attente"})})]})]})]}),r.customer&&l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informations Client"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Nom"}),l.jsxs("div",{className:"mt-1 text-sm text-gray-900",children:[r.customer.first_name," ",r.customer.last_name]})]}),r.customer.email&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Email"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900",children:r.customer.email})]}),r.customer.phone&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Téléphone"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900",children:r.customer.phone})]}),r.customer.address&&l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Adresse"}),l.jsx("div",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:r.customer.address})]})]})]})]}):null]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Suivre Votre Commande"}),l.jsx("p",{className:"text-gray-600",children:"Entrez votre numéro de suivi pour connaître l'état de votre commande"})]}),l.jsx("div",{className:"bg-white shadow-lg rounded-lg p-8",children:l.jsxs("form",{onSubmit:d,className:"max-w-lg mx-auto",children:[l.jsxs("div",{className:"relative",children:[l.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Numéro de suivi (ex: LMI123ABC)",value:e,onChange:v=>t(v.target.value),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:!0})]}),o&&l.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 text-red-600 rounded-md text-sm",children:o}),l.jsx("button",{type:"submit",disabled:s,className:"mt-4 w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Recherche...":"Suivre la commande"})]})})]})})})}function Ac({children:e,requireAdmin:t=!1}){const{user:r}=it();kr();const n=Ge();return j.useEffect(()=>{r&&t&&r.role!=="admin"&&n("/",{replace:!0})},[r,t,n]),r?t&&r.role!=="admin"?null:l.jsx(l.Fragment,{children:e}):l.jsx(d0,{to:"/login",replace:!0})}function _w(){const{setUser:e}=it();return j.useEffect(()=>{J.auth.getSession().then(({data:{session:r}})=>{if(r!=null&&r.user){const{id:n,email:s,created_at:i}=r.user;e({id:n,email:s||"",role:"admin",created_at:i})}});const{data:{subscription:t}}=J.auth.onAuthStateChange((r,n)=>{if(n!=null&&n.user){const{id:s,email:i,created_at:o}=n.user;e({id:s,email:i||"",role:"admin",created_at:o})}else e(null)});return()=>t.unsubscribe()},[e]),l.jsx(_0,{children:l.jsxs(p0,{children:[l.jsx(De,{path:"/login",element:l.jsx(dw,{})}),l.jsx(De,{path:"/track",element:l.jsx(ww,{})}),l.jsxs(De,{element:l.jsx(Ac,{children:l.jsx(ow,{})}),children:[l.jsx(De,{path:"/",element:l.jsx(aw,{})}),l.jsx(De,{path:"/orders",element:l.jsx(fw,{})}),l.jsx(De,{path:"/orders/new",element:l.jsx(pw,{})}),l.jsx(De,{path:"/orders/:id",element:l.jsx(mw,{})}),l.jsx(De,{path:"/orders/:id/edit",element:l.jsx(gw,{})}),l.jsx(De,{path:"/customers",element:l.jsx(vw,{})}),l.jsx(De,{path:"/docs",element:l.jsx(xw,{})}),l.jsx(De,{path:"/users",element:l.jsx(Ac,{requireAdmin:!0,children:l.jsx(yw,{})})})]})]})})}Jh(document.getElementById("root")).render(l.jsx(j.StrictMode,{children:l.jsx(_w,{})}));export{$c as g};
